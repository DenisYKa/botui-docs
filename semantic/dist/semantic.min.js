 /*
 * # Semantic UI - 2.2.10
 * https://github.com/Semantic-Org/Semantic-UI
 * http://www.semantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,t,n,i){e.site=e.fn.site=function(i){var o,a,s=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1),u=e.isPlainObject(i)?e.extend(!0,{},e.site.settings,i):e.extend({},e.site.settings),f=u.namespace,m=u.error,v="module-"+f,g=e(n),h=g,b=this,p=h.data(v);return o={initialize:function(){o.instantiate()},instantiate:function(){o.verbose("Storing instance of site",o),p=o,h.data(v,o)},normalize:function(){o.fix.console(),o.fix.requestAnimationFrame()},fix:{console:function(){o.debug("Normalizing window.console"),void 0!==console&&void 0!==console.log||(o.verbose("Console not available, normalizing events"),o.disable.console()),void 0!==console.group&&void 0!==console.groupEnd&&void 0!==console.groupCollapsed||(o.verbose("Console group not available, normalizing events"),t.console.group=function(){},t.console.groupEnd=function(){},t.console.groupCollapsed=function(){}),void 0===console.markTimeline&&(o.verbose("Mark timeline not available, normalizing events"),t.console.markTimeline=function(){})},consoleClear:function(){o.debug("Disabling programmatic console clearing"),t.console.clear=function(){}},requestAnimationFrame:function(){o.debug("Normalizing requestAnimationFrame"),void 0===t.requestAnimationFrame&&(o.debug("RequestAnimationFrame not available, normalizing event"),t.requestAnimationFrame=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)})}},moduleExists:function(t){return void 0!==e.fn[t]&&void 0!==e.fn[t].settings},enabled:{modules:function(t){var n=[];return t=t||u.modules,e.each(t,function(e,t){o.moduleExists(t)&&n.push(t)}),n}},disabled:{modules:function(t){var n=[];return t=t||u.modules,e.each(t,function(e,t){o.moduleExists(t)||n.push(t)}),n}},change:{setting:function(t,n,i,a){i="string"==typeof i?"all"===i?u.modules:[i]:i||u.modules,a=void 0===a||a,e.each(i,function(i,s){var r,l=!o.moduleExists(s)||(e.fn[s].settings.namespace||!1);o.moduleExists(s)&&(o.verbose("Changing default setting",t,n,s),e.fn[s].settings[t]=n,a&&l&&(r=e(":data(module-"+l+")"),r.length>0&&(o.verbose("Modifying existing settings",r),r[s]("setting",t,n))))})},settings:function(t,n,i){n="string"==typeof n?[n]:n||u.modules,i=void 0===i||i,e.each(n,function(n,a){var s;o.moduleExists(a)&&(o.verbose("Changing default setting",t,a),e.extend(!0,e.fn[a].settings,t),i&&f&&(s=e(":data(module-"+f+")"),s.length>0&&(o.verbose("Modifying existing settings",s),s[a]("setting",t))))})}},enable:{console:function(){o.console(!0)},debug:function(e,t){e=e||u.modules,o.debug("Enabling debug for modules",e),o.change.setting("debug",!0,e,t)},verbose:function(e,t){e=e||u.modules,o.debug("Enabling verbose debug for modules",e),o.change.setting("verbose",!0,e,t)}},disable:{console:function(){o.console(!1)},debug:function(e,t){e=e||u.modules,o.debug("Disabling debug for modules",e),o.change.setting("debug",!1,e,t)},verbose:function(e,t){e=e||u.modules,o.debug("Disabling verbose debug for modules",e),o.change.setting("verbose",!1,e,t)}},console:function(e){if(e){if(void 0===p.cache.console)return void o.error(m.console);o.debug("Restoring console function"),t.console=p.cache.console}else o.debug("Disabling console function"),p.cache.console=t.console,t.console={clear:function(){},error:function(){},group:function(){},groupCollapsed:function(){},groupEnd:function(){},info:function(){},log:function(){},markTimeline:function(){},warn:function(){}}},destroy:function(){o.verbose("Destroying previous site for",h),h.removeData(v)},cache:{},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===n)return u[t];u[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,o,t);else{if(void 0===n)return o[t];o[t]=n}},debug:function(){u.debug&&(u.performance?o.performance.log(arguments):(o.debug=Function.prototype.bind.call(console.info,console,u.name+":"),o.debug.apply(console,arguments)))},verbose:function(){u.verbose&&u.debug&&(u.performance?o.performance.log(arguments):(o.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),o.verbose.apply(console,arguments)))},error:function(){o.error=Function.prototype.bind.call(console.error,console,u.name+":"),o.error.apply(console,arguments)},performance:{log:function(e){var t,n,i;u.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,r.push({Element:b,Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(o.performance.timer),o.performance.timer=setTimeout(o.performance.display,500)},display:function(){var t=u.name+":",n=0;s=!1,clearTimeout(o.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,i){var s,r,l,c=p;return n=n||d,i=b||i,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(n,i){var a=n!=s?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(c[a])&&n!=s)c=c[a];else{if(void 0!==c[a])return r=c[a],!1;if(!e.isPlainObject(c[i])||n==s)return void 0!==c[i]?(r=c[i],!1):(o.error(m.method,t),!1);c=c[i]}})),e.isFunction(r)?l=r.apply(i,n):void 0!==r&&(l=r),e.isArray(a)?a.push(l):void 0!==a?a=[a,l]:void 0!==l&&(a=l),r}},c?(void 0===p&&o.initialize(),o.invoke(l)):(void 0!==p&&o.destroy(),o.initialize()),void 0!==a?a:this},e.site.settings={name:"Site",namespace:"site",error:{console:"Console cannot be restored, most likely it was overwritten outside of module",method:"The method you called is not defined."},debug:!1,verbose:!1,performance:!0,modules:["accordion","api","checkbox","dimmer","dropdown","embed","form","modal","nag","popup","rating","shape","sidebar","state","sticky","tab","transition","visit","visibility"],siteNamespace:"site",namespaceStub:{cache:{},config:{},sections:{},section:{},utilities:{}}},e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.accordion=function(n){var i,o=e(this),a=(new Date).getTime(),s=[],r=arguments[0],l="string"==typeof r,c=[].slice.call(arguments,1);t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(){var d,u,f=e.isPlainObject(n)?e.extend(!0,{},e.fn.accordion.settings,n):e.extend({},e.fn.accordion.settings),m=f.className,v=f.namespace,g=f.selector,h=f.error,b="."+v,p="module-"+v,y=o.selector||"",x=e(this),C=x.find(g.title),w=x.find(g.content),S=this,T=x.data(p);u={initialize:function(){u.debug("Initializing",x),u.bind.events(),f.observeChanges&&u.observeChanges(),u.instantiate()},instantiate:function(){T=u,x.data(p,u)},destroy:function(){u.debug("Destroying previous instance",x),x.off(b).removeData(p)},refresh:function(){C=x.find(g.title),w=x.find(g.content)},observeChanges:function(){"MutationObserver"in t&&(d=new MutationObserver(function(e){u.debug("DOM tree modified, updating selector cache"),u.refresh()}),d.observe(S,{childList:!0,subtree:!0}),u.debug("Setting up mutation observer",d))},bind:{events:function(){u.debug("Binding delegated events"),x.on(f.on+b,g.trigger,u.event.click)}},event:{click:function(){u.toggle.call(this)}},toggle:function(t){var n=void 0!==t?"number"==typeof t?C.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(w),o=i.hasClass(m.animating),a=i.hasClass(m.active),s=a&&!o,r=!a&&o;u.debug("Toggling visibility of content",n),s||r?f.collapsible?u.close.call(n):u.debug("Cannot close accordion content collapsing is disabled"):u.open.call(n)},open:function(t){var n=void 0!==t?"number"==typeof t?C.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(w),o=i.hasClass(m.animating);if(i.hasClass(m.active)||o)return void u.debug("Accordion already open, skipping",i);u.debug("Opening accordion content",n),f.onOpening.call(i),f.exclusive&&u.closeOthers.call(n),n.addClass(m.active),i.stop(!0,!0).addClass(m.animating),f.animateChildren&&(void 0!==e.fn.transition&&x.transition("is supported")?i.children().transition({animation:"fade in",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):i.children().stop(!0,!0).animate({opacity:1},f.duration,u.resetOpacity)),i.slideDown(f.duration,f.easing,function(){i.removeClass(m.animating).addClass(m.active),u.reset.display.call(this),f.onOpen.call(this),f.onChange.call(this)})},close:function(t){var n=void 0!==t?"number"==typeof t?C.eq(t):e(t).closest(g.title):e(this).closest(g.title),i=n.next(w),o=i.hasClass(m.animating),a=i.hasClass(m.active),s=!a&&o,r=a&&o;!a&&!s||r||(u.debug("Closing accordion content",i),f.onClosing.call(i),n.removeClass(m.active),i.stop(!0,!0).addClass(m.animating),f.animateChildren&&(void 0!==e.fn.transition&&x.transition("is supported")?i.children().transition({animation:"fade out",queue:!1,useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):i.children().stop(!0,!0).animate({opacity:0},f.duration,u.resetOpacity)),i.slideUp(f.duration,f.easing,function(){i.removeClass(m.animating).removeClass(m.active),u.reset.display.call(this),f.onClose.call(this),f.onChange.call(this)}))},closeOthers:function(t){var n,i,o,a=void 0!==t?C.eq(t):e(this).closest(g.title),s=a.parents(g.content).prev(g.title),r=a.closest(g.accordion),l=g.title+"."+m.active+":visible",c=g.content+"."+m.active+":visible";f.closeNested?(n=r.find(l).not(s),o=n.next(w)):(n=r.find(l).not(s),i=r.find(c).find(l).not(s),n=n.not(i),o=n.next(w)),n.length>0&&(u.debug("Exclusive enabled, closing other content",n),n.removeClass(m.active),o.removeClass(m.animating).stop(!0,!0),f.animateChildren&&(void 0!==e.fn.transition&&x.transition("is supported")?o.children().transition({animation:"fade out",useFailSafe:!0,debug:f.debug,verbose:f.verbose,duration:f.duration}):o.children().stop(!0,!0).animate({opacity:0},f.duration,u.resetOpacity)),o.slideUp(f.duration,f.easing,function(){e(this).removeClass(m.active),u.reset.display.call(this)}))},reset:{display:function(){u.verbose("Removing inline display from element",this),e(this).css("display",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")},opacity:function(){u.verbose("Removing inline opacity from element",this),e(this).css("opacity",""),""===e(this).attr("style")&&e(this).attr("style","").removeAttr("style")}},setting:function(t,n){if(u.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(u.debug("Changing internal",t,n),void 0===n)return u[t];e.isPlainObject(t)?e.extend(!0,u,t):u[t]=n},debug:function(){!f.silent&&f.debug&&(f.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,f.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),u.verbose.apply(console,arguments)))},error:function(){f.silent||(u.error=Function.prototype.bind.call(console.error,console,f.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=a||t,n=t-i,a=t,s.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:S,"Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,500)},display:function(){var t=f.name+":",n=0;a=!1,clearTimeout(u.performance.timer),e.each(s,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",y&&(t+=" '"+y+"'"),(void 0!==console.group||void 0!==console.table)&&s.length>0&&(console.groupCollapsed(t),console.table?console.table(s):e.each(s,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),s=[]}},invoke:function(t,n,o){var a,s,r,l=T;return n=n||c,o=S||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(s=l[i],!1):(u.error(h.method,t),!1);l=l[i]}})),e.isFunction(s)?r=s.apply(o,n):void 0!==s&&(r=s),e.isArray(i)?i.push(r):void 0!==i?i=[i,r]:void 0!==r&&(i=r),s}},l?(void 0===T&&u.initialize(),u.invoke(r)):(void 0!==T&&T.invoke("destroy"),u.initialize())}),void 0!==i?i:this},e.fn.accordion.settings={name:"Accordion",namespace:"accordion",silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",observeChanges:!0,exclusive:!0,collapsible:!0,closeNested:!1,animateChildren:!0,duration:350,easing:"easeOutQuad",onOpening:function(){},onOpen:function(){},onClosing:function(){},onClose:function(){},onChange:function(){},error:{method:"The method you called is not defined"},className:{active:"active",animating:"animating"},selector:{accordion:".accordion",title:".title",trigger:".title",content:".content"}},e.extend(e.easing,{easeOutQuad:function(e,t,n,i,o){return-i*(t/=o)*(t-2)+n}})}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.dropdown=function(i){var o,a=e(this),s=e(n),r=a.selector||"",l="ontouchstart"in n.documentElement,c=(new Date).getTime(),d=[],u=arguments[0],f="string"==typeof u,m=[].slice.call(arguments,1);return a.each(function(v){var g,h,b,p,y,x,C,w,S=e.isPlainObject(i)?e.extend(!0,{},e.fn.dropdown.settings,i):e.extend({},e.fn.dropdown.settings),T=S.className,A=S.message,k=S.fields,R=S.keys,P=S.metadata,O=S.namespace,q=S.regExp,F=S.selector,E=S.error,D=S.templates,L="."+O,I="module-"+O,z=e(this),j=e(S.context),M=z.find(F.text),V=z.find(F.search),N=z.find(F.sizer),H=z.find(F.input),U=z.find(F.icon),B=z.prev().find(F.text).length>0?z.prev().find(F.text):z.prev(),W=z.children(F.menu),X=W.find(F.item),Q=!1,J=!1,K=!1,$=this,Y=z.data(I);w={initialize:function(){w.debug("Initializing dropdown",S),w.is.alreadySetup()?w.setup.reference():(w.setup.layout(),w.refreshData(),w.save.defaults(),w.restore.selected(),w.create.id(),w.bind.events(),w.observeChanges(),w.instantiate())},instantiate:function(){w.verbose("Storing instance of dropdown",w),Y=w,z.data(I,w)},destroy:function(){w.verbose("Destroying previous dropdown",z),w.remove.tabbable(),z.off(L).removeData(I),W.off(L),s.off(p),w.disconnect.menuObserver(),w.disconnect.selectObserver()},observeChanges:function(){"MutationObserver"in t&&(x=new MutationObserver(w.event.select.mutation),C=new MutationObserver(w.event.menu.mutation),w.debug("Setting up mutation observer",x,C),w.observe.select(),w.observe.menu())},disconnect:{menuObserver:function(){C&&C.disconnect()},selectObserver:function(){x&&x.disconnect()}},observe:{select:function(){w.has.input()&&x.observe(H[0],{childList:!0,subtree:!0})},menu:function(){w.has.menu()&&C.observe(W[0],{childList:!0,subtree:!0})}},create:{id:function(){y=(Math.random().toString(16)+"000000000").substr(2,8),p="."+y,w.verbose("Creating unique id for element",y)},userChoice:function(t){var n,i,o;return!!(t=t||w.get.userValues())&&(t=e.isArray(t)?t:[t],e.each(t,function(t,a){!1===w.get.item(a)&&(o=S.templates.addition(w.add.variables(A.addResult,a)),i=e("<div />").html(o).attr("data-"+P.value,a).attr("data-"+P.text,a).addClass(T.addition).addClass(T.item),S.hideAdditions&&i.addClass(T.hidden),n=void 0===n?i:n.add(i),w.verbose("Creating user choices for value",a,i))}),n)},userLabels:function(t){var n=w.get.userValues();n&&(w.debug("Adding user labels",n),e.each(n,function(e,t){w.verbose("Adding custom user value"),w.add.label(t,t)}))},menu:function(){W=e("<div />").addClass(T.menu).appendTo(z)},sizer:function(){N=e("<span />").addClass(T.sizer).insertAfter(V)}},search:function(e){e=void 0!==e?e:w.get.query(),w.verbose("Searching for query",e),w.has.minCharacters(e)?w.filter(e):w.hide()},select:{firstUnfiltered:function(){w.verbose("Selecting first non-filtered element"),w.remove.selectedItem(),X.not(F.unselectable).not(F.addition+F.hidden).eq(0).addClass(T.selected)},nextAvailable:function(e){e=e.eq(0);var t=e.nextAll(F.item).not(F.unselectable).eq(0),n=e.prevAll(F.item).not(F.unselectable).eq(0);t.length>0?(w.verbose("Moving selection to",t),t.addClass(T.selected)):(w.verbose("Moving selection to",n),n.addClass(T.selected))}},setup:{api:function(){var e={debug:S.debug,urlData:{value:w.get.value(),query:w.get.query()},on:!1};w.verbose("First request, initializing API"),z.api(e)},layout:function(){z.is("select")&&(w.setup.select(),w.setup.returnedObject()),w.has.menu()||w.create.menu(),w.is.search()&&!w.has.search()&&(w.verbose("Adding search input"),V=e("<input />").addClass(T.search).prop("autocomplete","off").insertBefore(M)),w.is.multiple()&&w.is.searchSelection()&&!w.has.sizer()&&w.create.sizer(),S.allowTab&&w.set.tabbable()},select:function(){var t=w.get.selectValues();w.debug("Dropdown initialized on a select",t),z.is("select")&&(H=z),H.parent(F.dropdown).length>0?(w.debug("UI dropdown already exists. Creating dropdown menu only"),z=H.closest(F.dropdown),w.has.menu()||w.create.menu(),W=z.children(F.menu),w.setup.menu(t)):(w.debug("Creating entire dropdown from select"),z=e("<div />").attr("class",H.attr("class")).addClass(T.selection).addClass(T.dropdown).html(D.dropdown(t)).insertBefore(H),H.hasClass(T.multiple)&&!1===H.prop("multiple")&&(w.error(E.missingMultiple),H.prop("multiple",!0)),H.is("[multiple]")&&w.set.multiple(),H.prop("disabled")&&(w.debug("Disabling dropdown"),z.addClass(T.disabled)),H.removeAttr("class").detach().prependTo(z)),w.refresh()},menu:function(e){W.html(D.menu(e,k)),X=W.find(F.item)},reference:function(){w.debug("Dropdown behavior was called on select, replacing with closest dropdown"),z=z.parent(F.dropdown),w.refresh(),w.setup.returnedObject(),f&&(Y=w,w.invoke(u))},returnedObject:function(){var e=a.slice(0,v),t=a.slice(v+1);a=e.add(z).add(t)}},refresh:function(){w.refreshSelectors(),w.refreshData()},refreshItems:function(){X=W.find(F.item)},refreshSelectors:function(){w.verbose("Refreshing selector cache"),M=z.find(F.text),V=z.find(F.search),H=z.find(F.input),U=z.find(F.icon),B=z.prev().find(F.text).length>0?z.prev().find(F.text):z.prev(),W=z.children(F.menu),X=W.find(F.item)},refreshData:function(){w.verbose("Refreshing cached metadata"),X.removeData(P.text).removeData(P.value)},clearData:function(){w.verbose("Clearing metadata"),X.removeData(P.text).removeData(P.value),z.removeData(P.defaultText).removeData(P.defaultValue).removeData(P.placeholderText)},toggle:function(){w.verbose("Toggling menu visibility"),w.is.active()?w.hide():w.show()},show:function(t){if(t=e.isFunction(t)?t:function(){},!w.can.show()&&w.is.remote()&&(w.debug("No API results retrieved, searching before show"),w.queryRemote(w.get.query(),w.show)),w.can.show()&&!w.is.active()){if(w.debug("Showing dropdown"),!w.has.message()||w.has.maxSelections()||w.has.allResultsFiltered()||w.remove.message(),w.is.allFiltered())return!0;!1!==S.onShow.call($)&&w.animate.show(function(){w.can.click()&&w.bind.intent(),w.has.menuSearch()&&w.focusSearch(),w.set.visible(),t.call($)})}},hide:function(t){t=e.isFunction(t)?t:function(){},w.is.active()&&(w.debug("Hiding dropdown"),!1!==S.onHide.call($)&&w.animate.hide(function(){w.remove.visible(),t.call($)}))},hideOthers:function(){w.verbose("Finding other dropdowns to hide"),a.not(z).has(F.menu+"."+T.visible).dropdown("hide")},hideMenu:function(){w.verbose("Hiding menu  instantaneously"),w.remove.active(),w.remove.visible(),W.transition("hide")},hideSubMenus:function(){var e=W.children(F.item).find(F.menu);w.verbose("Hiding sub menus",e),e.transition("hide")},bind:{events:function(){l&&w.bind.touchEvents(),w.bind.keyboardEvents(),w.bind.inputEvents(),w.bind.mouseEvents()},touchEvents:function(){w.debug("Touch device detected binding additional touch events"),w.is.searchSelection()||w.is.single()&&z.on("touchstart"+L,w.event.test.toggle),W.on("touchstart"+L,F.item,w.event.item.mouseenter)},keyboardEvents:function(){w.verbose("Binding keyboard events"),z.on("keydown"+L,w.event.keydown),w.has.search()&&z.on(w.get.inputEvent()+L,F.search,w.event.input),w.is.multiple()&&s.on("keydown"+p,w.event.document.keydown)},inputEvents:function(){w.verbose("Binding input change events"),z.on("change"+L,F.input,w.event.change)},mouseEvents:function(){w.verbose("Binding mouse events"),w.is.multiple()&&z.on("click"+L,F.label,w.event.label.click).on("click"+L,F.remove,w.event.remove.click),w.is.searchSelection()?(z.on("mousedown"+L,w.event.mousedown).on("mouseup"+L,w.event.mouseup).on("mousedown"+L,F.menu,w.event.menu.mousedown).on("mouseup"+L,F.menu,w.event.menu.mouseup).on("click"+L,F.icon,w.event.icon.click).on("focus"+L,F.search,w.event.search.focus).on("click"+L,F.search,w.event.search.focus).on("blur"+L,F.search,w.event.search.blur).on("click"+L,F.text,w.event.text.focus),w.is.multiple()&&z.on("click"+L,w.event.click)):("click"==S.on?z.on("click"+L,F.icon,w.event.icon.click).on("click"+L,w.event.test.toggle):"hover"==S.on?z.on("mouseenter"+L,w.delay.show).on("mouseleave"+L,w.delay.hide):z.on(S.on+L,w.toggle),z.on("mousedown"+L,w.event.mousedown).on("mouseup"+L,w.event.mouseup).on("focus"+L,w.event.focus),w.has.menuSearch()?z.on("blur"+L,F.search,w.event.search.blur):z.on("blur"+L,w.event.blur)),W.on("mouseenter"+L,F.item,w.event.item.mouseenter).on("mouseleave"+L,F.item,w.event.item.mouseleave).on("click"+L,F.item,w.event.item.click)},intent:function(){w.verbose("Binding hide intent event to document"),l&&s.on("touchstart"+p,w.event.test.touch).on("touchmove"+p,w.event.test.touch),s.on("click"+p,w.event.test.hide)}},unbind:{intent:function(){w.verbose("Removing hide intent event from document"),l&&s.off("touchstart"+p).off("touchmove"+p),s.off("click"+p)}},filter:function(e){var t=void 0!==e?e:w.get.query(),n=function(){w.is.multiple()&&w.filterActive(),w.select.firstUnfiltered(),w.has.allResultsFiltered()?S.onNoResults.call($,t)?S.allowAdditions?S.hideAdditions&&(w.verbose("User addition with no menu, setting empty style"),w.set.empty(),w.hideMenu()):(w.verbose("All items filtered, showing message",t),w.add.message(A.noResults)):(w.verbose("All items filtered, hiding dropdown",t),w.hideMenu()):(w.remove.empty(),w.remove.message()),S.allowAdditions&&w.add.userSuggestion(e),w.is.searchSelection()&&w.can.show()&&w.is.focusedOnSearch()&&w.show()};S.useLabels&&w.has.maxSelections()||(S.apiSettings?w.can.useAPI()?w.queryRemote(t,function(){S.filterRemoteData&&w.filterItems(t),n()}):w.error(E.noAPI):(w.filterItems(t),n()))},queryRemote:function(t,n){var i={errorDuration:!1,cache:"local",throttle:S.throttle,urlData:{query:t},onError:function(){w.add.message(A.serverError),n()},onFailure:function(){w.add.message(A.serverError),n()},onSuccess:function(e){w.remove.message(),w.setup.menu({values:e[k.remoteValues]}),n()}};z.api("get request")||w.setup.api(),i=e.extend(!0,{},i,S.apiSettings),z.api("setting",i).api("query")},filterItems:function(t){var n=void 0!==t?t:w.get.query(),i=null,o=w.escape.string(n),a=new RegExp("^"+o,"igm");w.has.query()&&(i=[],w.verbose("Searching for matching values",n),X.each(function(){var t,o,s=e(this);if("both"==S.match||"text"==S.match){if(t=String(w.get.choiceText(s,!1)),-1!==t.search(a))return i.push(this),!0;if("exact"===S.fullTextSearch&&w.exactSearch(n,t))return i.push(this),!0;if(!0===S.fullTextSearch&&w.fuzzySearch(n,t))return i.push(this),!0}if("both"==S.match||"value"==S.match){if(o=String(w.get.choiceValue(s,t)),-1!==o.search(a))return i.push(this),!0;if("exact"===S.fullTextSearch&&w.exactSearch(n,o))return i.push(this),!0;if(!0===S.fullTextSearch&&w.fuzzySearch(n,o))return i.push(this),!0}})),w.debug("Showing only matched items",n),w.remove.filteredItem(),i&&X.not(i).addClass(T.filtered)},fuzzySearch:function(e,t){var n=t.length,i=e.length;if(e=e.toLowerCase(),t=t.toLowerCase(),i>n)return!1;if(i===n)return e===t;e:for(var o=0,a=0;o<i;o++){for(var s=e.charCodeAt(o);a<n;)if(t.charCodeAt(a++)===s)continue e;return!1}return!0},exactSearch:function(e,t){return e=e.toLowerCase(),t=t.toLowerCase(),t.indexOf(e)>-1},filterActive:function(){S.useLabels&&X.filter("."+T.active).addClass(T.filtered)},focusSearch:function(e){w.has.search()&&!w.is.focusedOnSearch()&&(e?(z.off("focus"+L,F.search),V.focus(),z.on("focus"+L,F.search,w.event.search.focus)):V.focus())},forceSelection:function(){var e=X.not(T.filtered).filter("."+T.selected).eq(0),t=X.not(T.filtered).filter("."+T.active).eq(0),n=e.length>0?e:t;if(n.length>0&&!w.is.multiple())return w.debug("Forcing partial selection to selected item",n),void w.event.item.click.call(n,{},!0);S.allowAdditions?(w.set.selected(w.get.query()),w.remove.searchTerm()):w.remove.searchTerm()},event:{change:function(){K||(w.debug("Input changed, updating selection"),w.set.selected())},focus:function(){S.showOnFocus&&!Q&&w.is.hidden()&&!h&&w.show()},blur:function(e){h=n.activeElement===this,Q||h||(w.remove.activeLabel(),w.hide())},mousedown:function(){w.is.searchSelection()?b=!0:Q=!0},mouseup:function(){w.is.searchSelection()?b=!1:Q=!1},click:function(t){e(t.target).is(z)&&(w.is.focusedOnSearch()?w.show():w.focusSearch())},search:{focus:function(){Q=!0,w.is.multiple()&&w.remove.activeLabel(),S.showOnFocus&&w.search()},blur:function(e){h=n.activeElement===this,w.is.searchSelection()&&!b&&(J||h||(S.forceSelection&&w.forceSelection(),w.hide())),b=!1}},icon:{click:function(e){w.toggle()}},text:{focus:function(e){Q=!0,w.focusSearch()}},input:function(e){(w.is.multiple()||w.is.searchSelection())&&w.set.filtered(),clearTimeout(w.timer),w.timer=setTimeout(w.search,S.delay.search)},label:{click:function(t){var n=e(this),i=z.find(F.label),o=i.filter("."+T.active),a=n.nextAll("."+T.active),s=n.prevAll("."+T.active),r=a.length>0?n.nextUntil(a).add(o).add(n):n.prevUntil(s).add(o).add(n);t.shiftKey?(o.removeClass(T.active),r.addClass(T.active)):t.ctrlKey?n.toggleClass(T.active):(o.removeClass(T.active),n.addClass(T.active)),S.onLabelSelect.apply(this,i.filter("."+T.active))}},remove:{click:function(){var t=e(this).parent();t.hasClass(T.active)?w.remove.activeLabels():w.remove.activeLabels(t)}},test:{toggle:function(e){var t=w.is.multiple()?w.show:w.toggle;w.is.bubbledLabelClick(e)||w.is.bubbledIconClick(e)||w.determine.eventOnElement(e,t)&&e.preventDefault()},touch:function(e){w.determine.eventOnElement(e,function(){"touchstart"==e.type?w.timer=setTimeout(function(){w.hide()},S.delay.touch):"touchmove"==e.type&&clearTimeout(w.timer)}),e.stopPropagation()},hide:function(e){w.determine.eventInModule(e,w.hide)}},select:{mutation:function(e){w.debug("<select> modified, recreating menu"),w.setup.select()}},menu:{mutation:function(t){var n=t[0],i=e(n.addedNodes?n.addedNodes[0]:!1),o=e(n.removedNodes?n.removedNodes[0]:!1),a=i.add(o),s=a.is(F.addition)||a.closest(F.addition).length>0,r=a.is(F.message)||a.closest(F.message).length>0;s||r?(w.debug("Updating item selector cache"),w.refreshItems()):(w.debug("Menu modified, updating selector cache"),w.refresh())},mousedown:function(){J=!0},mouseup:function(){J=!1}},item:{mouseenter:function(t){var n=e(t.target),i=e(this),o=i.children(F.menu),a=i.siblings(F.item).children(F.menu),s=o.length>0;!(o.find(n).length>0)&&s&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Showing sub-menu",o),e.each(a,function(){w.animate.hide(!1,e(this))}),w.animate.show(!1,o)},S.delay.show),t.preventDefault())},mouseleave:function(t){var n=e(this).children(F.menu);n.length>0&&(clearTimeout(w.itemTimer),w.itemTimer=setTimeout(function(){w.verbose("Hiding sub-menu",n),w.animate.hide(!1,n)},S.delay.hide))},click:function(t,i){var o=e(this),a=e(t?t.target:""),s=o.find(F.menu),r=w.get.choiceText(o),l=w.get.choiceValue(o,r),c=s.length>0,d=s.find(a).length>0;w.has.menuSearch()&&e(n.activeElement).blur(),d||c&&!S.allowCategorySelection||(w.is.searchSelection()&&(S.allowAdditions&&w.remove.userAddition(),w.remove.searchTerm(),w.is.focusedOnSearch()||1==i||w.focusSearch(!0)),S.useLabels||(w.remove.filteredItem(),w.set.scrollPosition(o)),w.determine.selectAction.call(this,r,l))}},document:{keydown:function(e){var t=e.which;if(w.is.inObject(t,R)){var n=z.find(F.label),i=n.filter("."+T.active),o=(i.data(P.value),n.index(i)),a=n.length,s=i.length>0,r=i.length>1,l=0===o,c=o+1==a,d=w.is.searchSelection(),u=w.is.focusedOnSearch(),f=w.is.focused(),m=u&&0===w.get.caretPosition();if(d&&!s&&!u)return;t==R.leftArrow?!f&&!m||s?s&&(e.shiftKey?w.verbose("Adding previous label to selection"):(w.verbose("Selecting previous label"),n.removeClass(T.active)),l&&!r?i.addClass(T.active):i.prev(F.siblingLabel).addClass(T.active).end(),e.preventDefault()):(w.verbose("Selecting previous label"),n.last().addClass(T.active)):t==R.rightArrow?(f&&!s&&n.first().addClass(T.active),s&&(e.shiftKey?w.verbose("Adding next label to selection"):(w.verbose("Selecting next label"),n.removeClass(T.active)),c?d?u?n.removeClass(T.active):w.focusSearch():r?i.next(F.siblingLabel).addClass(T.active):i.addClass(T.active):i.next(F.siblingLabel).addClass(T.active),e.preventDefault())):t==R.deleteKey||t==R.backspace?s?(w.verbose("Removing active labels"),c&&d&&!u&&w.focusSearch(),i.last().next(F.siblingLabel).addClass(T.active),w.remove.activeLabels(i),e.preventDefault()):m&&!s&&t==R.backspace&&(w.verbose("Removing last label on input backspace"),i=n.last().addClass(T.active),w.remove.activeLabels(i)):i.removeClass(T.active)}}},keydown:function(e){var t=e.which;if(w.is.inObject(t,R)){var n,i=X.not(F.unselectable).filter("."+T.selected).eq(0),o=W.children("."+T.active).eq(0),a=i.length>0?i:o,s=a.length>0?a.siblings(":not(."+T.filtered+")").addBack():W.children(":not(."+T.filtered+")"),r=a.children(F.menu),l=a.closest(F.menu),c=l.hasClass(T.visible)||l.hasClass(T.animating)||l.parent(F.menu).length>0,d=r.length>0,u=a.length>0,f=a.not(F.unselectable).length>0,m=t==R.delimiter&&S.allowAdditions&&w.is.multiple(),v=S.allowAdditions&&S.hideAdditions&&(t==R.enter||m)&&f;if(v&&(w.verbose("Selecting item from keyboard shortcut",a),w.event.item.click.call(a,e),w.is.searchSelection()&&w.remove.searchTerm()),w.is.visible()){if((t==R.enter||m)&&(t==R.enter&&u&&d&&!S.allowCategorySelection?(w.verbose("Pressed enter on unselectable category, opening sub menu"),t=R.rightArrow):f&&(w.verbose("Selecting item from keyboard shortcut",a),w.event.item.click.call(a,e),w.is.searchSelection()&&w.remove.searchTerm()),e.preventDefault()),u&&(t==R.leftArrow&&l[0]!==W[0]&&(w.verbose("Left key pressed, closing sub-menu"),w.animate.hide(!1,l),a.removeClass(T.selected),l.closest(F.item).addClass(T.selected),e.preventDefault()),t==R.rightArrow&&d&&(w.verbose("Right key pressed, opening sub-menu"),w.animate.show(!1,r),a.removeClass(T.selected),r.find(F.item).eq(0).addClass(T.selected),e.preventDefault())),t==R.upArrow){if(n=u&&c?a.prevAll(F.item+":not("+F.unselectable+")").eq(0):X.eq(0),s.index(n)<0)return w.verbose("Up key pressed but reached top of current menu"),void e.preventDefault();w.verbose("Up key pressed, changing active item"),a.removeClass(T.selected),n.addClass(T.selected),w.set.scrollPosition(n),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(n),e.preventDefault()}if(t==R.downArrow){if(n=u&&c?n=a.nextAll(F.item+":not("+F.unselectable+")").eq(0):X.eq(0),0===n.length)return w.verbose("Down key pressed but reached bottom of current menu"),void e.preventDefault();w.verbose("Down key pressed, changing active item"),X.removeClass(T.selected),n.addClass(T.selected),w.set.scrollPosition(n),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(n),e.preventDefault()}t==R.pageUp&&(w.scrollPage("up"),e.preventDefault()),t==R.pageDown&&(w.scrollPage("down"),
e.preventDefault()),t==R.escape&&(w.verbose("Escape key pressed, closing dropdown"),w.hide())}else m&&e.preventDefault(),t!=R.downArrow||w.is.visible()||(w.verbose("Down key pressed, showing dropdown"),w.select.firstUnfiltered(),w.show(),e.preventDefault())}else w.has.search()||w.set.selectedLetter(String.fromCharCode(t))}},trigger:{change:function(){var e=n.createEvent("HTMLEvents"),t=H[0];t&&(w.verbose("Triggering native change event"),e.initEvent("change",!0,!1),t.dispatchEvent(e))}},determine:{selectAction:function(t,n){w.verbose("Determining action",S.action),e.isFunction(w.action[S.action])?(w.verbose("Triggering preset action",S.action,t,n),w.action[S.action].call($,t,n,this)):e.isFunction(S.action)?(w.verbose("Triggering user action",S.action,t,n),S.action.call($,t,n,this)):w.error(E.action,S.action)},eventInModule:function(t,i){var o=e(t.target),a=o.closest(n.documentElement).length>0,s=o.closest(z).length>0;return i=e.isFunction(i)?i:function(){},a&&!s?(w.verbose("Triggering event",i),i(),!0):(w.verbose("Event occurred in dropdown, canceling callback"),!1)},eventOnElement:function(t,i){var o=e(t.target),a=o.closest(F.siblingLabel),s=n.body.contains(t.target),r=0===z.find(a).length,l=0===o.closest(W).length;return i=e.isFunction(i)?i:function(){},s&&r&&l?(w.verbose("Triggering event",i),i(),!0):(w.verbose("Event occurred in dropdown menu, canceling callback"),!1)}},action:{nothing:function(){},activate:function(t,n,i){if(n=void 0!==n?n:t,w.can.activate(e(i))){if(w.set.selected(n,e(i)),w.is.multiple()&&!w.is.allFiltered())return;w.hideAndClear()}},select:function(t,n,i){if(n=void 0!==n?n:t,w.can.activate(e(i))){if(w.set.value(n,e(i)),w.is.multiple()&&!w.is.allFiltered())return;w.hideAndClear()}},combo:function(t,n,i){n=void 0!==n?n:t,w.set.selected(n,e(i)),w.hideAndClear()},hide:function(e,t,n){w.set.value(t,e),w.hideAndClear()}},get:{id:function(){return y},defaultText:function(){return z.data(P.defaultText)},defaultValue:function(){return z.data(P.defaultValue)},placeholderText:function(){return z.data(P.placeholderText)||""},text:function(){return M.text()},query:function(){return e.trim(V.val())},searchWidth:function(e){return e=void 0!==e?e:V.val(),N.text(e),Math.ceil(N.width()+1)},selectionCount:function(){var t=w.get.values();return w.is.multiple()?e.isArray(t)?t.length:0:""!==w.get.value()?1:0},transition:function(e){return"auto"==S.transition?w.is.upward(e)?"slide up":"slide down":S.transition},userValues:function(){var t=w.get.values();return!!t&&(t=e.isArray(t)?t:[t],e.grep(t,function(e){return!1===w.get.item(e)}))},uniqueArray:function(t){return e.grep(t,function(n,i){return e.inArray(n,t)===i})},caretPosition:function(){var e,t,i=V.get(0);return"selectionStart"in i?i.selectionStart:n.selection?(i.focus(),e=n.selection.createRange(),t=e.text.length,e.moveStart("character",-i.value.length),e.text.length-t):void 0},value:function(){var t=H.length>0?H.val():z.data(P.value),n=e.isArray(t)&&1===t.length&&""===t[0];return void 0===t||n?"":t},values:function(){var e=w.get.value();return""===e?"":!w.has.selectInput()&&w.is.multiple()?"string"==typeof e?e.split(S.delimiter):"":e},remoteValues:function(){var t=w.get.values(),n=!1;return t&&("string"==typeof t&&(t=[t]),e.each(t,function(e,t){var i=w.read.remoteData(t);w.verbose("Restoring value from session data",i,t),i&&(n||(n={}),n[t]=i)})),n},choiceText:function(t,n){if(n=void 0!==n?n:S.preserveHTML,t)return t.find(F.menu).length>0&&(w.verbose("Retrieving text of element with sub-menu"),t=t.clone(),t.find(F.menu).remove(),t.find(F.menuIcon).remove()),void 0!==t.data(P.text)?t.data(P.text):n?e.trim(t.html()):e.trim(t.text())},choiceValue:function(t,n){return n=n||w.get.choiceText(t),!!t&&(void 0!==t.data(P.value)?String(t.data(P.value)):"string"==typeof n?e.trim(n.toLowerCase()):String(n))},inputEvent:function(){var e=V[0];return!!e&&(void 0!==e.oninput?"input":void 0!==e.onpropertychange?"propertychange":"keyup")},selectValues:function(){var t={};return t.values=[],z.find("option").each(function(){var n=e(this),i=n.html(),o=n.attr("disabled"),a=void 0!==n.attr("value")?n.attr("value"):i;"auto"===S.placeholder&&""===a?t.placeholder=i:t.values.push({name:i,value:a,disabled:o})}),S.placeholder&&"auto"!==S.placeholder&&(w.debug("Setting placeholder value to",S.placeholder),t.placeholder=S.placeholder),S.sortSelect?(t.values.sort(function(e,t){return e.name>t.name?1:-1}),w.debug("Retrieved and sorted values from select",t)):w.debug("Retrieved values from select",t),t},activeItem:function(){return X.filter("."+T.active)},selectedItem:function(){var e=X.not(F.unselectable).filter("."+T.selected);return e.length>0?e:X.eq(0)},itemWithAdditions:function(e){var t=w.get.item(e),n=w.create.userChoice(e);return n&&n.length>0&&(t=t.length>0?t.add(n):n),t},item:function(t,n){var i,o,a=!1;return t=void 0!==t?t:void 0!==w.get.values()?w.get.values():w.get.text(),i=o?t.length>0:void 0!==t&&null!==t,o=w.is.multiple()&&e.isArray(t),n=""===t||0===t||(n||!1),i&&X.each(function(){var i=e(this),s=w.get.choiceText(i),r=w.get.choiceValue(i,s);if(null!==r&&void 0!==r)if(o)-1===e.inArray(String(r),t)&&-1===e.inArray(s,t)||(a=a?a.add(i):i);else if(n){if(w.verbose("Ambiguous dropdown value using strict type check",i,t),r===t||s===t)return a=i,!0}else if(String(r)==String(t)||s==t)return w.verbose("Found select item by value",r,t),a=i,!0}),a}},check:{maxSelections:function(e){return!S.maxSelections||(e=void 0!==e?e:w.get.selectionCount(),e>=S.maxSelections?(w.debug("Maximum selection count reached"),S.useLabels&&(X.addClass(T.filtered),w.add.message(A.maxSelections)),!0):(w.verbose("No longer at maximum selection count"),w.remove.message(),w.remove.filteredItem(),w.is.searchSelection()&&w.filterItems(),!1))}},restore:{defaults:function(){w.clear(),w.restore.defaultText(),w.restore.defaultValue()},defaultText:function(){var e=w.get.defaultText();e===w.get.placeholderText?(w.debug("Restoring default placeholder text",e),w.set.placeholderText(e)):(w.debug("Restoring default text",e),w.set.text(e))},placeholderText:function(){w.set.placeholderText()},defaultValue:function(){var e=w.get.defaultValue();void 0!==e&&(w.debug("Restoring default value",e),""!==e?(w.set.value(e),w.set.selected()):(w.remove.activeItem(),w.remove.selectedItem()))},labels:function(){S.allowAdditions&&(S.useLabels||(w.error(E.labels),S.useLabels=!0),w.debug("Restoring selected values"),w.create.userLabels()),w.check.maxSelections()},selected:function(){w.restore.values(),w.is.multiple()?(w.debug("Restoring previously selected values and labels"),w.restore.labels()):w.debug("Restoring previously selected values")},values:function(){w.set.initialLoad(),S.apiSettings&&S.saveRemoteData&&w.get.remoteValues()?w.restore.remoteValues():w.set.selected(),w.remove.initialLoad()},remoteValues:function(){var t=w.get.remoteValues();w.debug("Recreating selected from session data",t),t&&(w.is.single()?e.each(t,function(e,t){w.set.text(t)}):e.each(t,function(e,t){w.add.label(e,t)}))}},read:{remoteData:function(e){var n;return void 0===t.Storage?void w.error(E.noStorage):void 0!==(n=sessionStorage.getItem(e))&&n}},save:{defaults:function(){w.save.defaultText(),w.save.placeholderText(),w.save.defaultValue()},defaultValue:function(){var e=w.get.value();w.verbose("Saving default value as",e),z.data(P.defaultValue,e)},defaultText:function(){var e=w.get.text();w.verbose("Saving default text as",e),z.data(P.defaultText,e)},placeholderText:function(){var e;!1!==S.placeholder&&M.hasClass(T.placeholder)&&(e=w.get.text(),w.verbose("Saving placeholder text as",e),z.data(P.placeholderText,e))},remoteData:function(e,n){if(void 0===t.Storage)return void w.error(E.noStorage);w.verbose("Saving remote data to session storage",n,e),sessionStorage.setItem(n,e)}},clear:function(){w.is.multiple()&&S.useLabels?w.remove.labels():(w.remove.activeItem(),w.remove.selectedItem()),w.set.placeholderText(),w.clearValue()},clearValue:function(){w.set.value("")},scrollPage:function(e,t){var n,i,o,a=t||w.get.selectedItem(),s=a.closest(F.menu),r=s.outerHeight(),l=s.scrollTop(),c=X.eq(0).outerHeight(),d=Math.floor(r/c),u=(s.prop("scrollHeight"),"up"==e?l-c*d:l+c*d),f=X.not(F.unselectable);o="up"==e?f.index(a)-d:f.index(a)+d,n="up"==e?o>=0:o<f.length,i=n?f.eq(o):"up"==e?f.first():f.last(),i.length>0&&(w.debug("Scrolling page",e,i),a.removeClass(T.selected),i.addClass(T.selected),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(i),s.scrollTop(u))},set:{filtered:function(){var e=w.is.multiple(),t=w.is.searchSelection(),n=e&&t,i=t?w.get.query():"",o="string"==typeof i&&i.length>0,a=w.get.searchWidth(),s=""!==i;e&&o&&(w.verbose("Adjusting input width",a,S.glyphWidth),V.css("width",a)),o||n&&s?(w.verbose("Hiding placeholder text"),M.addClass(T.filtered)):(!e||n&&!s)&&(w.verbose("Showing placeholder text"),M.removeClass(T.filtered))},empty:function(){z.addClass(T.empty)},loading:function(){z.addClass(T.loading)},placeholderText:function(e){e=e||w.get.placeholderText(),w.debug("Setting placeholder text",e),w.set.text(e),M.addClass(T.placeholder)},tabbable:function(){w.is.searchSelection()?(w.debug("Added tabindex to searchable dropdown"),V.val("").attr("tabindex",0),W.attr("tabindex",-1)):(w.debug("Added tabindex to dropdown"),void 0===z.attr("tabindex")&&(z.attr("tabindex",0),W.attr("tabindex",-1)))},initialLoad:function(){w.verbose("Setting initial load"),g=!0},activeItem:function(e){S.allowAdditions&&e.filter(F.addition).length>0?e.addClass(T.filtered):e.addClass(T.active)},partialSearch:function(e){var t=w.get.query().length;V.val(e.substr(0,t))},scrollPosition:function(e,t){var n,i,o,a,s,r,l,c,d;e=e||w.get.selectedItem(),n=e.closest(F.menu),i=e&&e.length>0,t=void 0!==t&&t,e&&n.length>0&&i&&(a=e.position().top,n.addClass(T.loading),r=n.scrollTop(),s=n.offset().top,a=e.offset().top,o=r-s+a,t||(l=n.height(),d=r+l<o+5,c=o-5<r),w.debug("Scrolling to active item",o),(t||c||d)&&n.scrollTop(o),n.removeClass(T.loading))},text:function(e){"select"!==S.action&&("combo"==S.action?(w.debug("Changing combo button text",e,B),S.preserveHTML?B.html(e):B.text(e)):(e!==w.get.placeholderText()&&M.removeClass(T.placeholder),w.debug("Changing text",e,M),M.removeClass(T.filtered),S.preserveHTML?M.html(e):M.text(e)))},selectedItem:function(e){var t=w.get.choiceValue(e),n=w.get.choiceText(e,!1),i=w.get.choiceText(e,!0);w.debug("Setting user selection to item",e),w.remove.activeItem(),w.set.partialSearch(n),w.set.activeItem(e),w.set.selected(t,e),w.set.text(i)},selectedLetter:function(t){var n,i=X.filter("."+T.selected),o=i.length>0&&w.has.firstLetter(i,t),a=!1;o&&(n=i.nextAll(X).eq(0),w.has.firstLetter(n,t)&&(a=n)),a||X.each(function(){if(w.has.firstLetter(e(this),t))return a=e(this),!1}),a&&(w.verbose("Scrolling to next value with letter",t),w.set.scrollPosition(a),i.removeClass(T.selected),a.addClass(T.selected),S.selectOnKeydown&&w.is.single()&&w.set.selectedItem(a))},direction:function(e){"auto"==S.direction?w.is.onScreen(e)?w.remove.upward(e):w.set.upward(e):"upward"==S.direction&&w.set.upward(e)},upward:function(e){(e||z).addClass(T.upward)},value:function(e,t,n){var i=w.escape.value(e),o=H.length>0,a=(w.has.value(e),w.get.values()),s=void 0!==e?String(e):e;if(o){if(!S.allowReselection&&s==a&&(w.verbose("Skipping value update already same value",e,a),!w.is.initialLoad()))return;w.is.single()&&w.has.selectInput()&&w.can.extendSelect()&&(w.debug("Adding user option",e),w.add.optionValue(e)),w.debug("Updating input value",i,a),K=!0,H.val(i),!1===S.fireOnInit&&w.is.initialLoad()?w.debug("Input native change event ignored on initial load"):w.trigger.change(),K=!1}else w.verbose("Storing value in metadata",i,H),i!==a&&z.data(P.value,s);!1===S.fireOnInit&&w.is.initialLoad()?w.verbose("No callback on initial load",S.onChange):S.onChange.call($,e,t,n)},active:function(){z.addClass(T.active)},multiple:function(){z.addClass(T.multiple)},visible:function(){z.addClass(T.visible)},exactly:function(e,t){w.debug("Setting selected to exact values"),w.clear(),w.set.selected(e,t)},selected:function(t,n){var i=w.is.multiple();(n=S.allowAdditions?n||w.get.itemWithAdditions(t):n||w.get.item(t))&&(w.debug("Setting selected menu item to",n),w.is.multiple()&&w.remove.searchWidth(),w.is.single()?(w.remove.activeItem(),w.remove.selectedItem()):S.useLabels&&w.remove.selectedItem(),n.each(function(){var t=e(this),o=w.get.choiceText(t),a=w.get.choiceValue(t,o),s=t.hasClass(T.filtered),r=t.hasClass(T.active),l=t.hasClass(T.addition),c=i&&1==n.length;i?!r||l?(S.apiSettings&&S.saveRemoteData&&w.save.remoteData(o,a),S.useLabels?(w.add.value(a,o,t),w.add.label(a,o,c),w.set.activeItem(t),w.filterActive(),w.select.nextAvailable(n)):(w.add.value(a,o,t),w.set.text(w.add.variables(A.count)),w.set.activeItem(t))):s||(w.debug("Selected active value, removing label"),w.remove.selected(a)):(S.apiSettings&&S.saveRemoteData&&w.save.remoteData(o,a),w.set.text(o),w.set.value(a,o,t),t.addClass(T.active).addClass(T.selected))}))}},add:{label:function(t,n,i){var o,a=w.is.searchSelection()?V:M,s=w.escape.value(t);if(o=e("<a />").addClass(T.label).attr("data-"+P.value,s).html(D.label(s,n)),o=S.onLabelCreate.call(o,s,n),w.has.label(t))return void w.debug("Label already exists, skipping",s);S.label.variation&&o.addClass(S.label.variation),!0===i?(w.debug("Animating in label",o),o.addClass(T.hidden).insertBefore(a).transition(S.label.transition,S.label.duration)):(w.debug("Adding selection label",o),o.insertBefore(a))},message:function(t){var n=W.children(F.message),i=S.templates.message(w.add.variables(t));n.length>0?n.html(i):n=e("<div/>").html(i).addClass(T.message).appendTo(W)},optionValue:function(t){var n=w.escape.value(t);H.find('option[value="'+w.escape.string(n)+'"]').length>0||(w.disconnect.selectObserver(),w.is.single()&&(w.verbose("Removing previous user addition"),H.find("option."+T.addition).remove()),e("<option/>").prop("value",n).addClass(T.addition).html(t).appendTo(H),w.verbose("Adding user addition as an <option>",t),w.observe.select())},userSuggestion:function(e){var t,n=W.children(F.addition),i=w.get.item(e),o=i&&i.not(F.addition).length,a=n.length>0;if(!S.useLabels||!w.has.maxSelections()){if(""===e||o)return void n.remove();a?(n.data(P.value,e).data(P.text,e).attr("data-"+P.value,e).attr("data-"+P.text,e).removeClass(T.filtered),S.hideAdditions||(t=S.templates.addition(w.add.variables(A.addResult,e)),n.html(t)),w.verbose("Replacing user suggestion with new value",n)):(n=w.create.userChoice(e),n.prependTo(W),w.verbose("Adding item choice to menu corresponding with user choice addition",n)),S.hideAdditions&&!w.is.allFiltered()||n.addClass(T.selected).siblings().removeClass(T.selected),w.refreshItems()}},variables:function(e,t){var n,i,o=-1!==e.search("{count}"),a=-1!==e.search("{maxCount}"),s=-1!==e.search("{term}");return w.verbose("Adding templated variables to message",e),o&&(n=w.get.selectionCount(),e=e.replace("{count}",n)),a&&(n=w.get.selectionCount(),e=e.replace("{maxCount}",S.maxSelections)),s&&(i=t||w.get.query(),e=e.replace("{term}",i)),e},value:function(t,n,i){var o,a=w.get.values();if(""===t)return void w.debug("Cannot select blank values from multiselect");e.isArray(a)?(o=a.concat([t]),o=w.get.uniqueArray(o)):o=[t],w.has.selectInput()?w.can.extendSelect()&&(w.debug("Adding value to select",t,o,H),w.add.optionValue(t)):(o=o.join(S.delimiter),w.debug("Setting hidden input to delimited value",o,H)),!1===S.fireOnInit&&w.is.initialLoad()?w.verbose("Skipping onadd callback on initial load",S.onAdd):S.onAdd.call($,t,n,i),w.set.value(o,t,n,i),w.check.maxSelections()}},remove:{active:function(){z.removeClass(T.active)},activeLabel:function(){z.find(F.label).removeClass(T.active)},empty:function(){z.removeClass(T.empty)},loading:function(){z.removeClass(T.loading)},initialLoad:function(){g=!1},upward:function(e){(e||z).removeClass(T.upward)},visible:function(){z.removeClass(T.visible)},activeItem:function(){X.removeClass(T.active)},filteredItem:function(){S.useLabels&&w.has.maxSelections()||(S.useLabels&&w.is.multiple()?X.not("."+T.active).removeClass(T.filtered):X.removeClass(T.filtered),w.remove.empty())},optionValue:function(e){var t=w.escape.value(e),n=H.find('option[value="'+w.escape.string(t)+'"]');n.length>0&&n.hasClass(T.addition)&&(x&&(x.disconnect(),w.verbose("Temporarily disconnecting mutation observer")),n.remove(),w.verbose("Removing user addition as an <option>",t),x&&x.observe(H[0],{childList:!0,subtree:!0}))},message:function(){W.children(F.message).remove()},searchWidth:function(){V.css("width","")},searchTerm:function(){w.verbose("Cleared search term"),V.val(""),w.set.filtered()},userAddition:function(){X.filter(F.addition).remove()},selected:function(t,n){if(!(n=S.allowAdditions?n||w.get.itemWithAdditions(t):n||w.get.item(t)))return!1;n.each(function(){var t=e(this),n=w.get.choiceText(t),i=w.get.choiceValue(t,n);w.is.multiple()?S.useLabels?(w.remove.value(i,n,t),w.remove.label(i)):(w.remove.value(i,n,t),0===w.get.selectionCount()?w.set.placeholderText():w.set.text(w.add.variables(A.count))):w.remove.value(i,n,t),t.removeClass(T.filtered).removeClass(T.active),S.useLabels&&t.removeClass(T.selected)})},selectedItem:function(){X.removeClass(T.selected)},value:function(e,t,n){var i,o=w.get.values();w.has.selectInput()?(w.verbose("Input is <select> removing selected option",e),i=w.remove.arrayValue(e,o),w.remove.optionValue(e)):(w.verbose("Removing from delimited values",e),i=w.remove.arrayValue(e,o),i=i.join(S.delimiter)),!1===S.fireOnInit&&w.is.initialLoad()?w.verbose("No callback on initial load",S.onRemove):S.onRemove.call($,e,t,n),w.set.value(i,t,n),w.check.maxSelections()},arrayValue:function(t,n){return e.isArray(n)||(n=[n]),n=e.grep(n,function(e){return t!=e}),w.verbose("Removed value from delimited string",t,n),n},label:function(e,t){var n=z.find(F.label),i=n.filter("[data-"+P.value+'="'+w.escape.string(e)+'"]');w.verbose("Removing label",i),i.remove()},activeLabels:function(e){e=e||z.find(F.label).filter("."+T.active),w.verbose("Removing active label selections",e),w.remove.labels(e)},labels:function(t){t=t||z.find(F.label),w.verbose("Removing labels",t),t.each(function(){var t=e(this),n=t.data(P.value),i=void 0!==n?String(n):n,o=w.is.userValue(i);if(!1===S.onLabelRemove.call(t,n))return void w.debug("Label remove callback cancelled removal");w.remove.message(),o?(w.remove.value(i),w.remove.label(i)):w.remove.selected(i)})},tabbable:function(){w.is.searchSelection()?(w.debug("Searchable dropdown initialized"),V.removeAttr("tabindex"),W.removeAttr("tabindex")):(w.debug("Simple selection dropdown initialized"),z.removeAttr("tabindex"),W.removeAttr("tabindex"))}},has:{menuSearch:function(){return w.has.search()&&V.closest(W).length>0},search:function(){return V.length>0},sizer:function(){return N.length>0},selectInput:function(){return H.is("select")},minCharacters:function(e){return!S.minCharacters||(e=void 0!==e?String(e):String(w.get.query()),e.length>=S.minCharacters)},firstLetter:function(e,t){var n,i;return!(!e||0===e.length||"string"!=typeof t)&&(n=w.get.choiceText(e,!1),t=t.toLowerCase(),i=String(n).charAt(0).toLowerCase(),t==i)},input:function(){return H.length>0},items:function(){return X.length>0},menu:function(){return W.length>0},message:function(){return 0!==W.children(F.message).length},label:function(e){var t=w.escape.value(e);return z.find(F.label).filter("[data-"+P.value+'="'+w.escape.string(t)+'"]').length>0},maxSelections:function(){return S.maxSelections&&w.get.selectionCount()>=S.maxSelections},allResultsFiltered:function(){var e=X.not(F.addition);return e.filter(F.unselectable).length===e.length},userSuggestion:function(){return W.children(F.addition).length>0},query:function(){return""!==w.get.query()},value:function(t){var n=w.get.values();return!!(e.isArray(n)?n&&-1!==e.inArray(t,n):n==t)}},is:{active:function(){return z.hasClass(T.active)},bubbledLabelClick:function(t){return e(t.target).is("select, input")&&z.closest("label").length>0},bubbledIconClick:function(t){return e(t.target).closest(U).length>0},alreadySetup:function(){return z.is("select")&&z.parent(F.dropdown).length>0&&0===z.prev().length},animating:function(e){return e?e.transition&&e.transition("is animating"):W.transition&&W.transition("is animating")},disabled:function(){return z.hasClass(T.disabled)},focused:function(){return n.activeElement===z[0]},focusedOnSearch:function(){return n.activeElement===V[0]},allFiltered:function(){return(w.is.multiple()||w.has.search())&&!(0==S.hideAdditions&&w.has.userSuggestion())&&!w.has.message()&&w.has.allResultsFiltered()},hidden:function(e){return!w.is.visible(e)},initialLoad:function(){return g},onScreen:function(e){var t,n=e||W,i=!0,o={};return n.addClass(T.loading),t={context:{scrollTop:j.scrollTop(),height:j.outerHeight()},menu:{offset:n.offset(),height:n.outerHeight()}},w.is.verticallyScrollableContext()&&(t.menu.offset.top+=t.context.scrollTop),o={above:t.context.scrollTop<=t.menu.offset.top-t.menu.height,below:t.context.scrollTop+t.context.height>=t.menu.offset.top+t.menu.height},o.below?(w.verbose("Dropdown can fit in context downward",o),i=!0):o.below||o.above?(w.verbose("Dropdown cannot fit below, opening upward",o),i=!1):(w.verbose("Dropdown cannot fit in either direction, favoring downward",o),i=!0),n.removeClass(T.loading),i},inObject:function(t,n){var i=!1;return e.each(n,function(e,n){if(n==t)return i=!0,!0}),i},multiple:function(){return z.hasClass(T.multiple)},remote:function(){return S.apiSettings&&w.can.useAPI()},single:function(){return!w.is.multiple()},selectMutation:function(t){var n=!1;return e.each(t,function(t,i){if(i.target&&e(i.target).is("select"))return n=!0,!0}),n},search:function(){return z.hasClass(T.search)},searchSelection:function(){return w.has.search()&&1===V.parent(F.dropdown).length},selection:function(){return z.hasClass(T.selection)},userValue:function(t){return-1!==e.inArray(t,w.get.userValues())},upward:function(e){return(e||z).hasClass(T.upward)},visible:function(e){return e?e.hasClass(T.visible):W.hasClass(T.visible)},verticallyScrollableContext:function(){var e=j.get(0)!==t&&j.css("overflow-y");return"auto"==e||"scroll"==e}},can:{activate:function(e){return!!S.useLabels||(!w.has.maxSelections()||!(!w.has.maxSelections()||!e.hasClass(T.active)))},click:function(){return l||"click"==S.on},extendSelect:function(){return S.allowAdditions||S.apiSettings},show:function(){return!w.is.disabled()&&(w.has.items()||w.has.message())},useAPI:function(){return void 0!==e.fn.api}},animate:{show:function(t,n){var i,o=n||W,a=n?function(){}:function(){w.hideSubMenus(),w.hideOthers(),w.set.active()};t=e.isFunction(t)?t:function(){},w.verbose("Doing menu show animation",o),w.set.direction(n),i=w.get.transition(n),w.is.selection()&&w.set.scrollPosition(w.get.selectedItem(),!0),(w.is.hidden(o)||w.is.animating(o))&&("none"==i?(a(),o.transition("show"),t.call($)):void 0!==e.fn.transition&&z.transition("is supported")?o.transition({animation:i+" in",debug:S.debug,verbose:S.verbose,duration:S.duration,queue:!0,onStart:a,onComplete:function(){t.call($)}}):w.error(E.noTransition,i))},hide:function(t,n){var i=n||W,o=(n?S.duration:S.duration,n?function(){}:function(){w.can.click()&&w.unbind.intent(),w.remove.active()}),a=w.get.transition(n);t=e.isFunction(t)?t:function(){},(w.is.visible(i)||w.is.animating(i))&&(w.verbose("Doing menu hide animation",i),"none"==a?(o(),i.transition("hide"),t.call($)):void 0!==e.fn.transition&&z.transition("is supported")?i.transition({animation:a+" out",duration:S.duration,debug:S.debug,verbose:S.verbose,queue:!0,onStart:o,onComplete:function(){"auto"==S.direction&&w.remove.upward(n),t.call($)}}):w.error(E.transition))}},hideAndClear:function(){w.remove.searchTerm(),w.has.maxSelections()||(w.has.search()?w.hide(function(){w.remove.filteredItem()}):w.hide())},delay:{show:function(){w.verbose("Delaying show event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.show,S.delay.show)},hide:function(){w.verbose("Delaying hide event to ensure user intent"),clearTimeout(w.timer),w.timer=setTimeout(w.hide,S.delay.hide)}},escape:{value:function(t){var n=e.isArray(t),i="string"==typeof t,o=!i&&!n,a=i&&-1!==t.search(q.quote),s=[];return o||!a?t:(w.debug("Encoding quote values for use in select",t),n?(e.each(t,function(e,t){s.push(t.replace(q.quote,"&quot;"))}),s):t.replace(q.quote,"&quot;"))},string:function(e){return e=String(e),e.replace(q.escape,"\\$&")}},setting:function(t,n){if(w.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,S,t);else{if(void 0===n)return S[t];e.isPlainObject(S[t])?e.extend(!0,S[t],n):S[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===n)return w[t];w[t]=n}},debug:function(){!S.silent&&S.debug&&(S.performance?w.performance.log(arguments):(w.debug=Function.prototype.bind.call(console.info,console,S.name+":"),w.debug.apply(console,arguments)))},verbose:function(){!S.silent&&S.verbose&&S.debug&&(S.performance?w.performance.log(arguments):(w.verbose=Function.prototype.bind.call(console.info,console,S.name+":"),w.verbose.apply(console,arguments)))},error:function(){S.silent||(w.error=Function.prototype.bind.call(console.error,console,S.name+":"),w.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;S.performance&&(t=(new Date).getTime(),i=c||t,n=t-i,c=t,d.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:$,"Execution Time":n})),clearTimeout(w.performance.timer),w.performance.timer=setTimeout(w.performance.display,500)},display:function(){var t=S.name+":",n=0;c=!1,clearTimeout(w.performance.timer),e.each(d,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",r&&(t+=" '"+r+"'"),(void 0!==console.group||void 0!==console.table)&&d.length>0&&(console.groupCollapsed(t),console.table?console.table(d):e.each(d,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),d=[]}},invoke:function(t,n,i){var a,s,r,l=Y;return n=n||m,i=$||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(s=l[i],!1):(w.error(E.method,t),!1);l=l[i]}})),e.isFunction(s)?r=s.apply(i,n):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},f?(void 0===Y&&w.initialize(),w.invoke(u)):(void 0!==Y&&Y.invoke("destroy"),w.initialize())}),void 0!==o?o:a},e.fn.dropdown.settings={silent:!1,debug:!1,verbose:!1,performance:!0,on:"click",action:"activate",apiSettings:!1,selectOnKeydown:!0,minCharacters:0,filterRemoteData:!1,saveRemoteData:!0,throttle:200,context:t,direction:"auto",keepOnScreen:!0,match:"both",fullTextSearch:!1,placeholder:"auto",preserveHTML:!0,sortSelect:!1,forceSelection:!0,allowAdditions:!1,hideAdditions:!0,maxSelections:!1,useLabels:!0,delimiter:",",showOnFocus:!0,allowReselection:!1,allowTab:!0,allowCategorySelection:!1,fireOnInit:!1,transition:"auto",duration:200,glyphWidth:1.037,label:{transition:"scale",duration:200,variation:!1},delay:{hide:300,show:200,search:20,touch:50},onChange:function(e,t,n){},onAdd:function(e,t,n){},onRemove:function(e,t,n){},onLabelSelect:function(e){},onLabelCreate:function(t,n){return e(this)},onLabelRemove:function(e){return!0},onNoResults:function(e){return!0},onShow:function(){},onHide:function(){},name:"Dropdown",namespace:"dropdown",message:{addResult:"Add <b>{term}</b>",count:"{count} selected",maxSelections:"Max {maxCount} selections",noResults:"No results found.",serverError:"There was an error contacting the server"},error:{action:"You called a dropdown action that was not defined",alreadySetup:"Once a select has been initialized behaviors must be called on the created ui dropdown",labels:"Allowing user additions currently requires the use of labels.",missingMultiple:"<select> requires multiple property to be set to correctly preserve multiple values",method:"The method you called is not defined.",noAPI:"The API module is required to load resources remotely",noStorage:"Saving remote data requires session storage",noTransition:"This module requires ui transitions <https://github.com/Semantic-Org/UI-Transition>"},regExp:{escape:/[-[\]{}()*+?.,\\^$|#\s]/g,quote:/"/g},metadata:{defaultText:"defaultText",defaultValue:"defaultValue",placeholderText:"placeholder",text:"text",value:"value"},fields:{remoteValues:"results",values:"values",disabled:"disabled",name:"name",value:"value",text:"text"},keys:{backspace:8,delimiter:188,deleteKey:46,enter:13,escape:27,pageUp:33,pageDown:34,leftArrow:37,upArrow:38,rightArrow:39,downArrow:40},selector:{addition:".addition",dropdown:".ui.dropdown",hidden:".hidden",icon:"> .dropdown.icon",input:'> input[type="hidden"], > select',item:".item",label:"> .label",remove:"> .label > .delete.icon",siblingLabel:".label",menu:".menu",message:".message",menuIcon:".dropdown.icon",search:"input.search, .menu > .search > input, .menu input.search",sizer:"> input.sizer",text:"> .text:not(.icon)",unselectable:".disabled, .filtered"},className:{active:"active",addition:"addition",animating:"animating",disabled:"disabled",empty:"empty",dropdown:"ui dropdown",filtered:"filtered",hidden:"hidden transition",item:"item",label:"ui label",loading:"loading",menu:"menu",message:"message",multiple:"multiple",placeholder:"default",sizer:"sizer",search:"search",selected:"selected",selection:"selection",upward:"upward",visible:"visible"}},e.fn.dropdown.settings.templates={dropdown:function(t){var n=t.placeholder||!1,i=(t.values,"");return i+='<i class="dropdown icon"></i>',t.placeholder?i+='<div class="default text">'+n+"</div>":i+='<div class="text"></div>',i+='<div class="menu">',e.each(t.values,function(e,t){i+=t.disabled?'<div class="disabled item" data-value="'+t.value+'">'+t.name+"</div>":'<div class="item" data-value="'+t.value+'">'+t.name+"</div>"}),i+="</div>"},menu:function(t,n){var i=t[n.values]||{},o="";return e.each(i,function(e,t){var i=t[n.text]?'data-text="'+t[n.text]+'"':"",a=t[n.disabled]?"disabled ":"";o+='<div class="'+a+'item" data-value="'+t[n.value]+'"'+i+">",o+=t[n.name],o+="</div>"}),o},label:function(e,t){return t+'<i class="delete icon"></i>'},message:function(e){return e},addition:function(e){return e}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sidebar=function(i){var o,a=e(this),s=e(t),r=e(n),l=e("html"),c=e("head"),d=a.selector||"",u=(new Date).getTime(),f=[],m=arguments[0],v="string"==typeof m,g=[].slice.call(arguments,1),h=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)};return a.each(function(){var a,b,p,y,x,C,w=e.isPlainObject(i)?e.extend(!0,{},e.fn.sidebar.settings,i):e.extend({},e.fn.sidebar.settings),S=w.selector,T=w.className,A=w.namespace,k=w.regExp,R=w.error,P="."+A,O="module-"+A,q=e(this),F=e(w.context),E=q.children(S.sidebar),D=F.children(S.fixed),L=F.children(S.pusher),I=this,z=q.data(O);C={initialize:function(){C.debug("Initializing sidebar",i),C.create.id(),x=C.get.transitionEvent(),C.is.ios()&&C.set.ios(),w.delaySetup?h(C.setup.layout):C.setup.layout(),h(function(){C.setup.cache()}),C.instantiate()},instantiate:function(){C.verbose("Storing instance of module",C),z=C,q.data(O,C)},create:{id:function(){p=(Math.random().toString(16)+"000000000").substr(2,8),b="."+p,C.verbose("Creating unique id for element",p)}},destroy:function(){C.verbose("Destroying previous module for",q),q.off(P).removeData(O),C.is.ios()&&C.remove.ios(),F.off(b),s.off(b),r.off(b)},event:{clickaway:function(e){var t=L.find(e.target).length>0||L.is(e.target),n=F.is(e.target);t&&(C.verbose("User clicked on dimmed page"),C.hide()),n&&(C.verbose("User clicked on dimmable context (scaled out page)"),C.hide())},touch:function(e){},containScroll:function(e){
I.scrollTop<=0&&(I.scrollTop=1),I.scrollTop+I.offsetHeight>=I.scrollHeight&&(I.scrollTop=I.scrollHeight-I.offsetHeight-1)},scroll:function(t){0===e(t.target).closest(S.sidebar).length&&t.preventDefault()}},bind:{clickaway:function(){C.verbose("Adding clickaway events to context",F),w.closable&&F.on("click"+b,C.event.clickaway).on("touchend"+b,C.event.clickaway)},scrollLock:function(){w.scrollLock&&(C.debug("Disabling page scroll"),s.on("DOMMouseScroll"+b,C.event.scroll)),C.verbose("Adding events to contain sidebar scroll"),r.on("touchmove"+b,C.event.touch),q.on("scroll"+P,C.event.containScroll)}},unbind:{clickaway:function(){C.verbose("Removing clickaway events from context",F),F.off(b)},scrollLock:function(){C.verbose("Removing scroll lock from page"),r.off(b),s.off(b),q.off("scroll"+P)}},add:{inlineCSS:function(){var t,n=C.cache.width||q.outerWidth(),i=C.cache.height||q.outerHeight(),o=C.is.rtl(),s=C.get.direction(),r={left:n,right:-n,top:i,bottom:-i};o&&(C.verbose("RTL detected, flipping widths"),r.left=-n,r.right=n),t="<style>","left"===s||"right"===s?(C.debug("Adding CSS rules for animation distance",n),t+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d("+r[s]+"px, 0, 0);           transform: translate3d("+r[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(t+=" .ui.visible."+s+".sidebar ~ .fixed, .ui.visible."+s+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+r[s]+"px, 0);           transform: translate3d(0, "+r[s]+"px, 0); }"),C.is.ie()&&("left"===s||"right"===s?(C.debug("Adding CSS rules for animation distance",n),t+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+r[s]+"px, 0, 0);           transform: translate3d("+r[s]+"px, 0, 0); }"):"top"!==s&&"bottom"!=s||(t+=" body.pushable > .ui.visible."+s+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+r[s]+"px, 0);           transform: translate3d(0, "+r[s]+"px, 0); }"),t+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0px, 0, 0);           transform: translate3d(0px, 0, 0); }"),t+="</style>",a=e(t).appendTo(c),C.debug("Adding sizing css to head",a)}},refresh:function(){C.verbose("Refreshing selector cache"),F=e(w.context),E=F.children(S.sidebar),L=F.children(S.pusher),D=F.children(S.fixed),C.clear.cache()},refreshSidebars:function(){C.verbose("Refreshing other sidebars"),E=F.children(S.sidebar)},repaint:function(){C.verbose("Forcing repaint event"),I.style.display="none";I.offsetHeight;I.scrollTop=I.scrollTop,I.style.display=""},setup:{cache:function(){C.cache={width:q.outerWidth(),height:q.outerHeight(),rtl:"rtl"==q.css("direction")}},layout:function(){0===F.children(S.pusher).length&&(C.debug("Adding wrapper element for sidebar"),C.error(R.pusher),L=e('<div class="pusher" />'),F.children().not(S.omitted).not(E).wrapAll(L),C.refresh()),0!==q.nextAll(S.pusher).length&&q.nextAll(S.pusher)[0]===L[0]||(C.debug("Moved sidebar to correct parent element"),C.error(R.movedSidebar,I),q.detach().prependTo(F),C.refresh()),C.clear.cache(),C.set.pushable(),C.set.direction()}},attachEvents:function(t,n){var i=e(t);n=e.isFunction(C[n])?C[n]:C.toggle,i.length>0?(C.debug("Attaching sidebar events to element",t,n),i.on("click"+P,n)):C.error(R.notFound,t)},show:function(t){if(t=e.isFunction(t)?t:function(){},C.is.hidden()){if(C.refreshSidebars(),w.overlay&&(C.error(R.overlay),w.transition="overlay"),C.refresh(),C.othersActive())if(C.debug("Other sidebars currently visible"),w.exclusive){if("overlay"!=w.transition)return void C.hideOthers(C.show);C.hideOthers()}else w.transition="overlay";C.pushPage(function(){t.call(I),w.onShow.call(I)}),w.onChange.call(I),w.onVisible.call(I)}else C.debug("Sidebar is already visible")},hide:function(t){t=e.isFunction(t)?t:function(){},(C.is.visible()||C.is.animating())&&(C.debug("Hiding sidebar",t),C.refreshSidebars(),C.pullPage(function(){t.call(I),w.onHidden.call(I)}),w.onChange.call(I),w.onHide.call(I))},othersAnimating:function(){return E.not(q).filter("."+T.animating).length>0},othersVisible:function(){return E.not(q).filter("."+T.visible).length>0},othersActive:function(){return C.othersVisible()||C.othersAnimating()},hideOthers:function(e){var t=E.not(q).filter("."+T.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){C.verbose("Determining toggled direction"),C.is.hidden()?C.show():C.hide()},pushPage:function(t){var n,i,o,a=C.get.transition(),s="overlay"===a||C.othersActive()?q:L;t=e.isFunction(t)?t:function(){},"scale down"==w.transition&&C.scrollToTop(),C.set.transition(a),C.repaint(),n=function(){C.bind.clickaway(),C.add.inlineCSS(),C.set.animating(),C.set.visible()},i=function(){C.set.dimmed()},o=function(e){e.target==s[0]&&(s.off(x+b,o),C.remove.animating(),C.bind.scrollLock(),t.call(I))},s.off(x+b),s.on(x+b,o),h(n),w.dimPage&&!C.othersVisible()&&h(i)},pullPage:function(t){var n,i,o=C.get.transition(),a="overlay"==o||C.othersActive()?q:L;t=e.isFunction(t)?t:function(){},C.verbose("Removing context push state",C.get.direction()),C.unbind.clickaway(),C.unbind.scrollLock(),n=function(){C.set.transition(o),C.set.animating(),C.remove.visible(),w.dimPage&&!C.othersVisible()&&L.removeClass(T.dimmed)},i=function(e){e.target==a[0]&&(a.off(x+b,i),C.remove.animating(),C.remove.transition(),C.remove.inlineCSS(),("scale down"==o||w.returnScroll&&C.is.mobile())&&C.scrollBack(),t.call(I))},a.off(x+b),a.on(x+b,i),h(n)},scrollToTop:function(){C.verbose("Scrolling to top of page to avoid animation issues"),y=e(t).scrollTop(),q.scrollTop(0),t.scrollTo(0,0)},scrollBack:function(){C.verbose("Scrolling back to original page position"),t.scrollTo(0,y)},clear:{cache:function(){C.verbose("Clearing cached dimensions"),C.cache={}}},set:{ios:function(){l.addClass(T.ios)},pushed:function(){F.addClass(T.pushed)},pushable:function(){F.addClass(T.pushable)},dimmed:function(){L.addClass(T.dimmed)},active:function(){q.addClass(T.active)},animating:function(){q.addClass(T.animating)},transition:function(e){e=e||C.get.transition(),q.addClass(e)},direction:function(e){e=e||C.get.direction(),q.addClass(T[e])},visible:function(){q.addClass(T.visible)},overlay:function(){q.addClass(T.overlay)}},remove:{inlineCSS:function(){C.debug("Removing inline css styles",a),a&&a.length>0&&a.remove()},ios:function(){l.removeClass(T.ios)},pushed:function(){F.removeClass(T.pushed)},pushable:function(){F.removeClass(T.pushable)},active:function(){q.removeClass(T.active)},animating:function(){q.removeClass(T.animating)},transition:function(e){e=e||C.get.transition(),q.removeClass(e)},direction:function(e){e=e||C.get.direction(),q.removeClass(T[e])},visible:function(){q.removeClass(T.visible)},overlay:function(){q.removeClass(T.overlay)}},get:{direction:function(){return q.hasClass(T.top)?T.top:q.hasClass(T.right)?T.right:q.hasClass(T.bottom)?T.bottom:T.left},transition:function(){var e,t=C.get.direction();return e=C.is.mobile()?"auto"==w.mobileTransition?w.defaultTransition.mobile[t]:w.mobileTransition:"auto"==w.transition?w.defaultTransition.computer[t]:w.transition,C.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=n.createElement("element"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}},is:{ie:function(){var e=!t.ActiveXObject&&"ActiveXObject"in t,n="ActiveXObject"in t;return e||n},ios:function(){var e=navigator.userAgent,t=e.match(k.ios),n=e.match(k.mobileChrome);return!(!t||n)&&(C.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(k.mobile)?(C.verbose("Browser was found to be mobile",e),!0):(C.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!C.is.visible()},visible:function(){return q.hasClass(T.visible)},open:function(){return C.is.visible()},closed:function(){return C.is.hidden()},vertical:function(){return q.hasClass(T.top)},animating:function(){return F.hasClass(T.animating)},rtl:function(){return void 0===C.cache.rtl&&(C.cache.rtl="rtl"==q.css("direction")),C.cache.rtl}},setting:function(t,n){if(C.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,w,t);else{if(void 0===n)return w[t];e.isPlainObject(w[t])?e.extend(!0,w[t],n):w[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,C,t);else{if(void 0===n)return C[t];C[t]=n}},debug:function(){!w.silent&&w.debug&&(w.performance?C.performance.log(arguments):(C.debug=Function.prototype.bind.call(console.info,console,w.name+":"),C.debug.apply(console,arguments)))},verbose:function(){!w.silent&&w.verbose&&w.debug&&(w.performance?C.performance.log(arguments):(C.verbose=Function.prototype.bind.call(console.info,console,w.name+":"),C.verbose.apply(console,arguments)))},error:function(){w.silent||(C.error=Function.prototype.bind.call(console.error,console,w.name+":"),C.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;w.performance&&(t=(new Date).getTime(),i=u||t,n=t-i,u=t,f.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:I,"Execution Time":n})),clearTimeout(C.performance.timer),C.performance.timer=setTimeout(C.performance.display,500)},display:function(){var t=w.name+":",n=0;u=!1,clearTimeout(C.performance.timer),e.each(f,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",d&&(t+=" '"+d+"'"),(void 0!==console.group||void 0!==console.table)&&f.length>0&&(console.groupCollapsed(t),console.table?console.table(f):e.each(f,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),f=[]}},invoke:function(t,n,i){var a,s,r,l=z;return n=n||g,i=I||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(s=l[i],!1):(C.error(R.method,t),!1);l=l[i]}})),e.isFunction(s)?r=s.apply(i,n):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},v?(void 0===z&&C.initialize(),C.invoke(m)):(void 0!==z&&C.invoke("destroy"),C.initialize())}),void 0!==o?o:this},e.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.sticky=function(i){var o,a=e(this),s=a.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1);return a.each(function(){var a,f,m,v,g,h=e.isPlainObject(i)?e.extend(!0,{},e.fn.sticky.settings,i):e.extend({},e.fn.sticky.settings),b=h.className,p=h.namespace,y=h.error,x="."+p,C="module-"+p,w=e(this),S=e(t),T=e(h.scrollContext),A=(w.selector,w.data(C)),k=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},R=this;g={initialize:function(){g.determineContainer(),g.determineContext(),g.verbose("Initializing sticky",h,a),g.save.positions(),g.checkErrors(),g.bind.events(),h.observeChanges&&g.observeChanges(),g.instantiate()},instantiate:function(){g.verbose("Storing instance of module",g),A=g,w.data(C,g)},destroy:function(){g.verbose("Destroying previous instance"),g.reset(),m&&m.disconnect(),v&&v.disconnect(),S.off("load"+x,g.event.load).off("resize"+x,g.event.resize),T.off("scrollchange"+x,g.event.scrollchange),w.removeData(C)},observeChanges:function(){"MutationObserver"in t&&(m=new MutationObserver(g.event.documentChanged),v=new MutationObserver(g.event.changed),m.observe(n,{childList:!0,subtree:!0}),v.observe(R,{childList:!0,subtree:!0}),v.observe(f[0],{childList:!0,subtree:!0}),g.debug("Setting up mutation observer",v))},determineContainer:function(){a=h.container?e(h.container):w.offsetParent()},determineContext:function(){if(f=h.context?e(h.context):a,0===f.length)return void g.error(y.invalidContext,h.context,w)},checkErrors:function(){if(g.is.hidden()&&g.error(y.visible,w),g.cache.element.height>g.cache.context.height)return g.reset(),void g.error(y.elementSize,w)},bind:{events:function(){S.on("load"+x,g.event.load).on("resize"+x,g.event.resize),T.off("scroll"+x).on("scroll"+x,g.event.scroll).on("scrollchange"+x,g.event.scrollchange)}},event:{changed:function(e){clearTimeout(g.timer),g.timer=setTimeout(function(){g.verbose("DOM tree modified, updating sticky menu",e),g.refresh()},100)},documentChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==R||e(t).find(R).length>0)&&(g.debug("Element removed from DOM, tearing down events"),g.destroy())})})},load:function(){g.verbose("Page contents finished loading"),k(g.refresh)},resize:function(){g.verbose("Window resized"),k(g.refresh)},scroll:function(){k(function(){T.triggerHandler("scrollchange"+x,T.scrollTop())})},scrollchange:function(e,t){g.stick(t),h.onScroll.call(R)}},refresh:function(e){g.reset(),h.context||g.determineContext(),e&&g.determineContainer(),g.save.positions(),g.stick(),h.onReposition.call(R)},supports:{sticky:function(){var t=e("<div/>");t[0];return t.addClass(b.supported),t.css("position").match("sticky")}},save:{lastScroll:function(e){g.lastScroll=e},elementScroll:function(e){g.elementScroll=e},positions:function(){var e={height:T.height()},t={margin:{top:parseInt(w.css("margin-top"),10),bottom:parseInt(w.css("margin-bottom"),10)},offset:w.offset(),width:w.outerWidth(),height:w.outerHeight()},n={offset:f.offset(),height:f.outerHeight()};a.outerHeight();g.is.standardScroll()||(g.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=T.scrollTop(),e.left=T.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),g.cache={fits:t.height<e.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},g.set.containerSize(),g.set.size(),g.stick(),g.debug("Caching element positions",g.cache)}},get:{direction:function(e){var t="down";return e=e||T.scrollTop(),void 0!==g.lastScroll&&(g.lastScroll<e?t="down":g.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||T.scrollTop(),g.lastScroll?e-g.lastScroll:0},currentElementScroll:function(){return g.elementScroll?g.elementScroll:g.is.top()?Math.abs(parseInt(w.css("top"),10))||0:Math.abs(parseInt(w.css("bottom"),10))||0},elementScroll:function(e){e=e||T.scrollTop();var t=g.cache.element,n=g.cache.scrollContext,i=g.get.scrollChange(e),o=t.height-n.height+h.offset,a=g.get.currentElementScroll(),s=a+i;return a=g.cache.fits||s<0?0:s>o?o:s}},remove:{lastScroll:function(){delete g.lastScroll},elementScroll:function(e){delete g.elementScroll},offset:function(){w.css("margin-top","")}},set:{offset:function(){g.verbose("Setting offset on element",h.offset),w.css("margin-top",h.offset)},containerSize:function(){var e=a.get(0).tagName;"HTML"===e||"body"==e?g.determineContainer():Math.abs(a.outerHeight()-g.cache.context.height)>h.jitter&&(g.debug("Context has padding, specifying exact height for container",g.cache.context.height),a.css({height:g.cache.context.height}))},minimumSize:function(){var e=g.cache.element;a.css("min-height",e.height)},scroll:function(e){g.debug("Setting scroll on element",e),g.elementScroll!=e&&(g.is.top()&&w.css("bottom","").css("top",-e),g.is.bottom()&&w.css("top","").css("bottom",e))},size:function(){0!==g.cache.element.height&&0!==g.cache.element.width&&(R.style.setProperty("width",g.cache.element.width+"px","important"),R.style.setProperty("height",g.cache.element.height+"px","important"))}},is:{standardScroll:function(){return T[0]==t},top:function(){return w.hasClass(b.top)},bottom:function(){return w.hasClass(b.bottom)},initialPosition:function(){return!g.is.fixed()&&!g.is.bound()},hidden:function(){return!w.is(":visible")},bound:function(){return w.hasClass(b.bound)},fixed:function(){return w.hasClass(b.fixed)}},stick:function(e){var t=e||T.scrollTop(),n=g.cache,i=n.fits,o=n.element,a=n.scrollContext,s=n.context,r=g.is.bottom()&&h.pushing?h.bottomOffset:h.offset,e={top:t+r,bottom:t+r+a.height},l=(g.get.direction(e.top),i?0:g.get.elementScroll(e.top)),c=!i;0!==o.height&&(g.is.initialPosition()?e.top>=s.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):e.top>o.top&&(o.height+e.top-l>=s.bottom?(g.debug("Initial element position is bottom of container"),g.bindBottom()):(g.debug("Initial element position is fixed"),g.fixTop())):g.is.fixed()?g.is.top()?e.top<=o.top?(g.debug("Fixed element reached top of container"),g.setInitialPosition()):o.height+e.top-l>=s.bottom?(g.debug("Fixed element reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(l),g.save.lastScroll(e.top),g.save.elementScroll(l)):g.is.bottom()&&(e.bottom-o.height<=o.top?(g.debug("Bottom fixed rail has reached top of container"),g.setInitialPosition()):e.bottom>=s.bottom?(g.debug("Bottom fixed rail has reached bottom of container"),g.bindBottom()):c&&(g.set.scroll(l),g.save.lastScroll(e.top),g.save.elementScroll(l))):g.is.bottom()&&(e.top<=o.top?(g.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),g.setInitialPosition()):h.pushing?g.is.bound()&&e.bottom<=s.bottom&&(g.debug("Fixing bottom attached element to bottom of browser."),g.fixBottom()):g.is.bound()&&e.top<=s.bottom-o.height&&(g.debug("Fixing bottom attached element to top of browser."),g.fixTop())))},bindTop:function(){g.debug("Binding element to top of parent container"),g.remove.offset(),w.css({left:"",top:"",marginBottom:""}).removeClass(b.fixed).removeClass(b.bottom).addClass(b.bound).addClass(b.top),h.onTop.call(R),h.onUnstick.call(R)},bindBottom:function(){g.debug("Binding element to bottom of parent container"),g.remove.offset(),w.css({left:"",top:""}).removeClass(b.fixed).removeClass(b.top).addClass(b.bound).addClass(b.bottom),h.onBottom.call(R),h.onUnstick.call(R)},setInitialPosition:function(){g.debug("Returning to initial position"),g.unfix(),g.unbind()},fixTop:function(){g.debug("Fixing element to top of page"),g.set.minimumSize(),g.set.offset(),w.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(b.bound).removeClass(b.bottom).addClass(b.fixed).addClass(b.top),h.onStick.call(R)},fixBottom:function(){g.debug("Sticking element to bottom of page"),g.set.minimumSize(),g.set.offset(),w.css({left:g.cache.element.left,bottom:"",marginBottom:""}).removeClass(b.bound).removeClass(b.top).addClass(b.fixed).addClass(b.bottom),h.onStick.call(R)},unbind:function(){g.is.bound()&&(g.debug("Removing container bound position on element"),g.remove.offset(),w.removeClass(b.bound).removeClass(b.top).removeClass(b.bottom))},unfix:function(){g.is.fixed()&&(g.debug("Removing fixed position on element"),g.remove.offset(),w.removeClass(b.fixed).removeClass(b.top).removeClass(b.bottom),h.onUnstick.call(R))},reset:function(){g.debug("Resetting elements position"),g.unbind(),g.unfix(),g.resetCSS(),g.remove.offset(),g.remove.lastScroll()},resetCSS:function(){w.css({width:"",height:""}),a.css({height:""})},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];h[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];g[t]=n}},debug:function(){!h.silent&&h.debug&&(h.performance?g.performance.log(arguments):(g.debug=Function.prototype.bind.call(console.info,console,h.name+":"),g.debug.apply(console,arguments)))},verbose:function(){!h.silent&&h.verbose&&h.debug&&(h.performance?g.performance.log(arguments):(g.verbose=Function.prototype.bind.call(console.info,console,h.name+":"),g.verbose.apply(console,arguments)))},error:function(){h.silent||(g.error=Function.prototype.bind.call(console.error,console,h.name+":"),g.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;h.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:R,"Execution Time":n})),clearTimeout(g.performance.timer),g.performance.timer=setTimeout(g.performance.display,0)},display:function(){var t=h.name+":",n=0;r=!1,clearTimeout(g.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var a,s,r,l=A;return n=n||u,i=R||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]&&(s=l[i],!1);l=l[i]}})),e.isFunction(s)?r=s.apply(i,n):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},d?(void 0===A&&g.initialize(),g.invoke(c)):(void 0!==A&&A.invoke("destroy"),g.initialize())}),void 0!==o?o:this},e.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:t,offset:0,bottomOffset:0,jitter:5,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.tab=function(i){var o,a=e(e.isFunction(this)?t:this),s=a.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1),f=!1;return a.each(function(){var m,v,g,h,b,p,y=e.isPlainObject(i)?e.extend(!0,{},e.fn.tab.settings,i):e.extend({},e.fn.tab.settings),x=y.className,C=y.metadata,w=y.selector,S=y.error,T="."+y.namespace,A="module-"+y.namespace,k=e(this),R={},P=!0,O=0,q=this,F=k.data(A);b={initialize:function(){b.debug("Initializing tab menu item",k),b.fix.callbacks(),b.determineTabs(),b.debug("Determining tabs",y.context,v),y.auto&&b.set.auto(),b.bind.events(),y.history&&!f&&(b.initializeHistory(),f=!0),b.instantiate()},instantiate:function(){b.verbose("Storing instance of module",b),F=b,k.data(A,b)},destroy:function(){b.debug("Destroying tabs",k),k.removeData(A).off(T)},bind:{events:function(){e.isWindow(q)||(b.debug("Attaching tab activation events to element",k),k.on("click"+T,b.event.click))}},determineTabs:function(){var t;"parent"===y.context?(k.closest(w.ui).length>0?(t=k.closest(w.ui),b.verbose("Using closest UI element as parent",t)):t=k,m=t.parent(),b.verbose("Determined parent element for creating context",m)):y.context?(m=e(y.context),b.verbose("Using selector for tab context",y.context,m)):m=e("body"),y.childrenOnly?(v=m.children(w.tabs),b.debug("Searching tab context children for tabs",m,v)):(v=m.find(w.tabs),b.debug("Searching tab context for tabs",m,v))},fix:{callbacks:function(){e.isPlainObject(i)&&(i.onTabLoad||i.onTabInit)&&(i.onTabLoad&&(i.onLoad=i.onTabLoad,delete i.onTabLoad,b.error(S.legacyLoad,i.onLoad)),i.onTabInit&&(i.onFirstLoad=i.onTabInit,delete i.onTabInit,b.error(S.legacyInit,i.onFirstLoad)),y=e.extend(!0,{},e.fn.tab.settings,i))}},initializeHistory:function(){if(b.debug("Initializing page state"),void 0===e.address)return b.error(S.state),!1;if("state"==y.historyType){if(b.debug("Using HTML5 to manage state"),!1===y.path)return b.error(S.path),!1;e.address.history(!0).state(y.path)}e.address.bind("change",b.event.history.change)},event:{click:function(t){var n=e(this).data(C.tab);void 0!==n?(y.history?(b.verbose("Updating page state",t),e.address.value(n)):(b.verbose("Changing tab",t),b.changeTab(n)),t.preventDefault()):b.debug("No tab specified")},history:{change:function(t){var n=t.pathNames.join("/")||b.get.initialPath(),i=y.templates.determineTitle(n)||!1;b.performance.display(),b.debug("History change event",n,t),p=t,void 0!==n&&b.changeTab(n),i&&e.address.title(i)}}},refresh:function(){g&&(b.debug("Refreshing tab",g),b.changeTab(g))},cache:{read:function(e){return void 0!==e&&R[e]},add:function(e,t){e=e||g,b.debug("Adding cached content for",e),R[e]=t},remove:function(e){e=e||g,b.debug("Removing cached content for",e),delete R[e]}},set:{auto:function(){var t="string"==typeof y.path?y.path.replace(/\/$/,"")+"/{$tab}":"/{$tab}";b.verbose("Setting up automatic tab retrieval from server",t),e.isPlainObject(y.apiSettings)?y.apiSettings.url=t:y.apiSettings={url:t}},loading:function(e){var t=b.get.tabElement(e);t.hasClass(x.loading)||(b.verbose("Setting loading state for",t),t.addClass(x.loading).siblings(v).removeClass(x.active+" "+x.loading),t.length>0&&y.onRequest.call(t[0],e))},state:function(t){e.address.value(t)}},changeTab:function(n){var i=t.history&&t.history.pushState,o=i&&y.ignoreFirstLoad&&P,a=y.auto||e.isPlainObject(y.apiSettings),s=a&&!o?b.utilities.pathToArray(n):b.get.defaultPathArray(n);n=b.utilities.arrayToPath(s),e.each(s,function(t,i){var r,l,c,d,u=s.slice(0,t+1),f=b.utilities.arrayToPath(u),v=b.is.tab(f),w=t+1==s.length,T=b.get.tabElement(f);if(b.verbose("Looking for tab",i),v){if(b.verbose("Tab was found",i),g=f,h=b.utilities.filterArray(s,u),w?d=!0:(l=s.slice(0,t+2),c=b.utilities.arrayToPath(l),(d=!b.is.tab(c))&&b.verbose("Tab parameters found",l)),d&&a)return o?(b.debug("Ignoring remote content on first tab load",f),P=!1,b.cache.add(n,T.html()),b.activate.all(f),y.onFirstLoad.call(T[0],f,h,p),y.onLoad.call(T[0],f,h,p)):(b.activate.navigation(f),b.fetch.content(f,n)),!1;b.debug("Opened local tab",f),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug("First time tab loaded calling tab init"),y.onFirstLoad.call(T[0],f,h,p)),y.onLoad.call(T[0],f,h,p)}else{if(-1!=n.search("/")||""===n)return b.error(S.missingTab,k,m,f),!1;if(r=e("#"+n+', a[name="'+n+'"]'),f=r.closest("[data-tab]").data(C.tab),T=b.get.tabElement(f),r&&r.length>0&&f)return b.debug("Anchor link used, opening parent tab",T,r),T.hasClass(x.active)||setTimeout(function(){b.scrollTo(r)},0),b.activate.all(f),b.cache.read(f)||(b.cache.add(f,!0),b.debug("First time tab loaded calling tab init"),y.onFirstLoad.call(T[0],f,h,p)),y.onLoad.call(T[0],f,h,p),!1}})},scrollTo:function(t){var i=!!(t&&t.length>0)&&t.offset().top;!1!==i&&(b.debug("Forcing scroll to an in-page link in a hidden tab",i,t),e(n).scrollTop(i))},update:{content:function(t,n,i){var o=b.get.tabElement(t),a=o[0];i=void 0!==i?i:y.evaluateScripts,"string"==typeof y.cacheType&&"dom"==y.cacheType.toLowerCase()&&"string"!=typeof n?o.empty().append(e(n).clone(!0)):i?(b.debug("Updating HTML and evaluating inline scripts",t,n),o.html(n)):(b.debug("Updating HTML",t,n),a.innerHTML=n)}},fetch:{content:function(t,n){var i,o,a=b.get.tabElement(t),s={dataType:"html",encodeParameters:!1,on:"now",cache:y.alwaysRefresh,headers:{"X-Remote":!0},onSuccess:function(e){"response"==y.cacheType&&b.cache.add(n,e),b.update.content(t,e),t==g?(b.debug("Content loaded",t),b.activate.tab(t)):b.debug("Content loaded in background",t),y.onFirstLoad.call(a[0],t,h,p),y.onLoad.call(a[0],t,h,p),y.loadOnce?b.cache.add(n,!0):"string"==typeof y.cacheType&&"dom"==y.cacheType.toLowerCase()&&a.children().length>0?setTimeout(function(){var e=a.children().clone(!0);e=e.not("script"),b.cache.add(n,e)},0):b.cache.add(n,a.html())},urlData:{tab:n}},r=a.api("get request")||!1,l=r&&"pending"===r.state();n=n||t,o=b.cache.read(n),y.cache&&o?(b.activate.tab(t),b.debug("Adding cached content",n),y.loadOnce||("once"==y.evaluateScripts?b.update.content(t,o,!1):b.update.content(t,o)),y.onLoad.call(a[0],t,h,p)):l?(b.set.loading(t),b.debug("Content is already loading",n)):void 0!==e.api?(i=e.extend(!0,{},y.apiSettings,s),b.debug("Retrieving remote content",n,i),b.set.loading(t),a.api(i)):b.error(S.api)}},activate:{all:function(e){b.activate.tab(e),b.activate.navigation(e)},tab:function(e){var t=b.get.tabElement(e),n="siblings"==y.deactivate?t.siblings(v):v.not(t),i=t.hasClass(x.active);b.verbose("Showing tab content for",t),i||(t.addClass(x.active),n.removeClass(x.active+" "+x.loading),t.length>0&&y.onVisible.call(t[0],e))},navigation:function(e){var t=b.get.navElement(e),n="siblings"==y.deactivate?t.siblings(a):a.not(t),i=t.hasClass(x.active);b.verbose("Activating tab navigation for",t,e),i||(t.addClass(x.active),n.removeClass(x.active+" "+x.loading))}},deactivate:{all:function(){b.deactivate.navigation(),b.deactivate.tabs()},navigation:function(){a.removeClass(x.active)},tabs:function(){v.removeClass(x.active+" "+x.loading)}},is:{tab:function(e){return void 0!==e&&b.get.tabElement(e).length>0}},get:{initialPath:function(){return a.eq(0).data(C.tab)||v.eq(0).data(C.tab)},path:function(){return e.address.value()},defaultPathArray:function(e){return b.utilities.pathToArray(b.get.defaultPath(e))},defaultPath:function(e){var t=a.filter("[data-"+C.tab+'^="'+e+'/"]').eq(0),n=t.data(C.tab)||!1;if(n){if(b.debug("Found default tab",n),O<y.maxDepth)return O++,b.get.defaultPath(n);b.error(S.recursion)}else b.debug("No default tabs found for",e,v);return O=0,e},navElement:function(e){return e=e||g,a.filter("[data-"+C.tab+'="'+e+'"]')},tabElement:function(e){var t,n,i,o;return e=e||g,i=b.utilities.pathToArray(e),o=b.utilities.last(i),t=v.filter("[data-"+C.tab+'="'+e+'"]'),n=v.filter("[data-"+C.tab+'="'+o+'"]'),t.length>0?t:n},tab:function(){return g}},utilities:{filterArray:function(t,n){return e.grep(t,function(t){return-1==e.inArray(t,n)})},last:function(t){return!!e.isArray(t)&&t[t.length-1]},pathToArray:function(e){return void 0===e&&(e=g),"string"==typeof e?e.split("/"):[e]},arrayToPath:function(t){
return!!e.isArray(t)&&t.join("/")}},setting:function(t,n){if(b.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,y,t);else{if(void 0===n)return y[t];e.isPlainObject(y[t])?e.extend(!0,y[t],n):y[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(void 0===n)return b[t];b[t]=n}},debug:function(){!y.silent&&y.debug&&(y.performance?b.performance.log(arguments):(b.debug=Function.prototype.bind.call(console.info,console,y.name+":"),b.debug.apply(console,arguments)))},verbose:function(){!y.silent&&y.verbose&&y.debug&&(y.performance?b.performance.log(arguments):(b.verbose=Function.prototype.bind.call(console.info,console,y.name+":"),b.verbose.apply(console,arguments)))},error:function(){y.silent||(b.error=Function.prototype.bind.call(console.error,console,y.name+":"),b.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;y.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:q,"Execution Time":n})),clearTimeout(b.performance.timer),b.performance.timer=setTimeout(b.performance.display,500)},display:function(){var t=y.name+":",n=0;r=!1,clearTimeout(b.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var a,s,r,l=F;return n=n||u,i=q||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(s=l[i],!1):(b.error(S.method,t),!1);l=l[i]}})),e.isFunction(s)?r=s.apply(i,n):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},d?(void 0===F&&b.initialize(),b.invoke(c)):(void 0!==F&&F.invoke("destroy"),b.initialize())}),void 0!==o?o:this},e.tab=function(){e(t).tab.apply(this,arguments)},e.fn.tab.settings={name:"Tab",namespace:"tab",silent:!1,debug:!1,verbose:!1,performance:!0,auto:!1,history:!1,historyType:"hash",path:!1,context:!1,childrenOnly:!1,maxDepth:25,deactivate:"siblings",alwaysRefresh:!1,cache:!0,loadOnce:!1,cacheType:"response",ignoreFirstLoad:!1,apiSettings:!1,evaluateScripts:"once",onFirstLoad:function(e,t,n){},onLoad:function(e,t,n){},onVisible:function(e,t,n){},onRequest:function(e,t,n){},templates:{determineTitle:function(e){}},error:{api:"You attempted to load content without API module",method:"The method you called is not defined",missingTab:"Activated tab cannot be found. Tabs are case-sensitive.",noContent:"The tab you specified is missing a content url.",path:"History enabled, but no path was specified",recursion:"Max recursive depth reached",legacyInit:"onTabInit has been renamed to onFirstLoad in 2.0, please adjust your code.",legacyLoad:"onTabLoad has been renamed to onLoad in 2.0. Please adjust your code",state:"History requires Asual's Address library <https://github.com/asual/jquery-address>"},metadata:{tab:"tab",loaded:"loaded",promise:"promise"},className:{loading:"loading",active:"active"},selector:{tabs:".ui.tab",ui:".ui"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.transition=function(){var i,o=e(this),a=o.selector||"",s=(new Date).getTime(),r=[],l=arguments,c=l[0],d=[].slice.call(arguments,1),u="string"==typeof c;t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame;return o.each(function(t){var f,m,v,g,h,b,p,y,x,C=e(this),w=this;x={initialize:function(){f=x.get.settings.apply(w,l),g=f.className,v=f.error,h=f.metadata,y="."+f.namespace,p="module-"+f.namespace,m=C.data(p)||x,b=x.get.animationEndEvent(),u&&(u=x.invoke(c)),!1===u&&(x.verbose("Converted arguments into settings object",f),f.interval?x.delay(f.animate):x.animate(),x.instantiate())},instantiate:function(){x.verbose("Storing instance of module",x),m=x,C.data(p,m)},destroy:function(){x.verbose("Destroying previous module for",w),C.removeData(p)},refresh:function(){x.verbose("Refreshing display type on next animation"),delete x.displayType},forceRepaint:function(){x.verbose("Forcing element repaint");var e=C.parent(),t=C.next();0===t.length?C.detach().appendTo(e):C.detach().insertBefore(t)},repaint:function(){x.verbose("Repainting element");w.offsetWidth},delay:function(e){var n,i,a=x.get.animationDirection();a||(a=x.can.transition()?x.get.direction():"static"),e=void 0!==e?e:f.interval,n="auto"==f.reverse&&a==g.outward,i=n||1==f.reverse?(o.length-t)*f.interval:t*f.interval,x.debug("Delaying animation by",i),setTimeout(x.animate,i)},animate:function(e){if(f=e||f,!x.is.supported())return x.error(v.support),!1;if(x.debug("Preparing animation",f.animation),x.is.animating()){if(f.queue)return!f.allowRepeats&&x.has.direction()&&x.is.occurring()&&!0!==x.queuing?x.debug("Animation is currently occurring, preventing queueing same animation",f.animation):x.queue(f.animation),!1;if(!f.allowRepeats&&x.is.occurring())return x.debug("Animation is already occurring, will not execute repeated animation",f.animation),!1;x.debug("New animation started, completing previous early",f.animation),m.complete()}x.can.animate()?x.set.animating(f.animation):x.error(v.noAnimation,f.animation,w)},reset:function(){x.debug("Resetting animation to beginning conditions"),x.remove.animationCallbacks(),x.restore.conditions(),x.remove.animating()},queue:function(e){x.debug("Queueing animation of",e),x.queuing=!0,C.one(b+".queue"+y,function(){x.queuing=!1,x.repaint(),x.animate.apply(this,f)})},complete:function(e){x.debug("Animation complete",f.animation),x.remove.completeCallback(),x.remove.failSafe(),x.is.looping()||(x.is.outward()?(x.verbose("Animation is outward, hiding element"),x.restore.conditions(),x.hide()):x.is.inward()?(x.verbose("Animation is outward, showing element"),x.restore.conditions(),x.show()):(x.verbose("Static animation completed"),x.restore.conditions(),f.onComplete.call(w)))},force:{visible:function(){var e=C.attr("style"),t=x.get.userStyle(),n=x.get.displayType(),i=t+"display: "+n+" !important;",o=C.css("display"),a=void 0===e||""===e;o!==n?(x.verbose("Overriding default display to show element",n),C.attr("style",i)):a&&C.removeAttr("style")},hidden:function(){var e=C.attr("style"),t=C.css("display"),n=void 0===e||""===e;"none"===t||x.is.hidden()?n&&C.removeAttr("style"):(x.verbose("Overriding default display to hide element"),C.css("display","none"))}},has:{direction:function(t){var n=!1;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t!==g.inward&&t!==g.outward||(n=!0)})),n},inlineDisplay:function(){var t=C.attr("style")||"";return e.isArray(t.match(/display.*?;/,""))}},set:{animating:function(e){var t;x.remove.completeCallback(),e=e||f.animation,t=x.get.animationClass(e),x.save.animation(t),x.force.visible(),x.remove.hidden(),x.remove.direction(),x.start.animation(t)},duration:function(e,t){t=t||f.duration,((t="number"==typeof t?t+"ms":t)||0===t)&&(x.verbose("Setting animation duration",t),C.css({"animation-duration":t}))},direction:function(e){e=e||x.get.direction(),e==g.inward?x.set.inward():x.set.outward()},looping:function(){x.debug("Transition set to loop"),C.addClass(g.looping)},hidden:function(){C.addClass(g.transition).addClass(g.hidden)},inward:function(){x.debug("Setting direction to inward"),C.removeClass(g.outward).addClass(g.inward)},outward:function(){x.debug("Setting direction to outward"),C.removeClass(g.inward).addClass(g.outward)},visible:function(){C.addClass(g.transition).addClass(g.visible)}},start:{animation:function(e){e=e||x.get.animationClass(),x.debug("Starting tween",e),C.addClass(e).one(b+".complete"+y,x.complete),f.useFailSafe&&x.add.failSafe(),x.set.duration(f.duration),f.onStart.call(w)}},save:{animation:function(e){x.cache||(x.cache={}),x.cache.animation=e},displayType:function(e){"none"!==e&&C.data(h.displayType,e)},transitionExists:function(t,n){e.fn.transition.exists[t]=n,x.verbose("Saving existence of transition",t,n)}},restore:{conditions:function(){var e=x.get.currentAnimation();e&&(C.removeClass(e),x.verbose("Removing animation class",x.cache)),x.remove.duration()}},add:{failSafe:function(){var e=x.get.duration();x.timer=setTimeout(function(){C.triggerHandler(b)},e+f.failSafeDelay),x.verbose("Adding fail safe timer",x.timer)}},remove:{animating:function(){C.removeClass(g.animating)},animationCallbacks:function(){x.remove.queueCallback(),x.remove.completeCallback()},queueCallback:function(){C.off(".queue"+y)},completeCallback:function(){C.off(".complete"+y)},display:function(){C.css("display","")},direction:function(){C.removeClass(g.inward).removeClass(g.outward)},duration:function(){C.css("animation-duration","")},failSafe:function(){x.verbose("Removing fail safe timer",x.timer),x.timer&&clearTimeout(x.timer)},hidden:function(){C.removeClass(g.hidden)},visible:function(){C.removeClass(g.visible)},looping:function(){x.debug("Transitions are no longer looping"),x.is.looping()&&(x.reset(),C.removeClass(g.looping))},transition:function(){C.removeClass(g.visible).removeClass(g.hidden)}},get:{settings:function(t,n,i){return"object"==typeof t?e.extend(!0,{},e.fn.transition.settings,t):"function"==typeof i?e.extend({},e.fn.transition.settings,{animation:t,onComplete:i,duration:n}):"string"==typeof n||"number"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,duration:n}):"object"==typeof n?e.extend({},e.fn.transition.settings,n,{animation:t}):"function"==typeof n?e.extend({},e.fn.transition.settings,{animation:t,onComplete:n}):e.extend({},e.fn.transition.settings,{animation:t})},animationClass:function(e){var t=e||f.animation,n=x.can.transition()&&!x.has.direction()?x.get.direction()+" ":"";return g.animating+" "+g.transition+" "+n+t},currentAnimation:function(){return!(!x.cache||void 0===x.cache.animation)&&x.cache.animation},currentDirection:function(){return x.is.inward()?g.inward:g.outward},direction:function(){return x.is.hidden()||!x.is.visible()?g.inward:g.outward},animationDirection:function(t){var n;return t=t||f.animation,"string"==typeof t&&(t=t.split(" "),e.each(t,function(e,t){t===g.inward?n=g.inward:t===g.outward&&(n=g.outward)})),n||!1},duration:function(e){return e=e||f.duration,!1===e&&(e=C.css("animation-duration")||0),"string"==typeof e?e.indexOf("ms")>-1?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){return e=void 0===e||e,f.displayType?f.displayType:(e&&void 0===C.data(h.displayType)&&x.can.transition(!0),C.data(h.displayType))},userStyle:function(e){return e=e||C.attr("style")||"",e.replace(/display.*?;/,"")},transitionExists:function(t){return e.fn.transition.exists[t]},animationStartEvent:function(){var e,t=n.createElement("div"),i={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in i)if(void 0!==t.style[e])return i[e];return!1},animationEndEvent:function(){var e,t=n.createElement("div"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e];return!1}},can:{transition:function(t){var n,i,o,a,s,r,l=f.animation,c=x.get.transitionExists(l),d=x.get.displayType(!1);if(void 0===c||t){if(x.verbose("Determining whether animation exists"),n=C.attr("class"),i=C.prop("tagName"),o=e("<"+i+" />").addClass(n).insertAfter(C),a=o.addClass(l).removeClass(g.inward).removeClass(g.outward).addClass(g.animating).addClass(g.transition).css("animationName"),s=o.addClass(g.inward).css("animationName"),d||(d=o.attr("class",n).removeAttr("style").removeClass(g.hidden).removeClass(g.visible).show().css("display"),x.verbose("Determining final display state",d),x.save.displayType(d)),o.remove(),a!=s)x.debug("Direction exists for animation",l),r=!0;else{if("none"==a||!a)return void x.debug("No animation defined in css",l);x.debug("Static animation found",l,d),r=!1}x.save.transitionExists(l,r)}return void 0!==c?c:r},animate:function(){return void 0!==x.can.transition()}},is:{animating:function(){return C.hasClass(g.animating)},inward:function(){return C.hasClass(g.inward)},outward:function(){return C.hasClass(g.outward)},looping:function(){return C.hasClass(g.looping)},occurring:function(e){return e=e||f.animation,e="."+e.replace(" ","."),C.filter(e).length>0},visible:function(){return C.is(":visible")},hidden:function(){return"hidden"===C.css("visibility")},supported:function(){return!1!==b}},hide:function(){x.verbose("Hiding element"),x.is.animating()&&x.reset(),w.blur(),x.remove.display(),x.remove.visible(),x.set.hidden(),x.force.hidden(),f.onHide.call(w),f.onComplete.call(w)},show:function(e){x.verbose("Showing element",e),x.remove.hidden(),x.set.visible(),x.force.visible(),f.onShow.call(w),f.onComplete.call(w)},toggle:function(){x.is.visible()?x.hide():x.show()},stop:function(){x.debug("Stopping current animation"),C.triggerHandler(b)},stopAll:function(){x.debug("Stopping all animation"),x.remove.queueCallback(),C.triggerHandler(b)},clear:{queue:function(){x.debug("Clearing animation queue"),x.remove.queueCallback()}},enable:function(){x.verbose("Starting animation"),C.removeClass(g.disabled)},disable:function(){x.debug("Stopping animation"),C.addClass(g.disabled)},setting:function(t,n){if(x.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,f,t);else{if(void 0===n)return f[t];e.isPlainObject(f[t])?e.extend(!0,f[t],n):f[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,x,t);else{if(void 0===n)return x[t];x[t]=n}},debug:function(){!f.silent&&f.debug&&(f.performance?x.performance.log(arguments):(x.debug=Function.prototype.bind.call(console.info,console,f.name+":"),x.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?x.performance.log(arguments):(x.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),x.verbose.apply(console,arguments)))},error:function(){f.silent||(x.error=Function.prototype.bind.call(console.error,console,f.name+":"),x.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;f.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:w,"Execution Time":n})),clearTimeout(x.performance.timer),x.performance.timer=setTimeout(x.performance.display,500)},display:function(){var t=f.name+":",n=0;s=!1,clearTimeout(x.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),o.length>1&&(t+=" ("+o.length+")"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a,s,r,l=m;return n=n||d,o=w||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]&&(s=l[i],!1);l=l[i]}})),e.isFunction(s)?r=s.apply(o,n):void 0!==s&&(r=s),e.isArray(i)?i.push(r):void 0!==i?i=[i,r]:void 0!==r&&(i=r),void 0!==s&&s}},x.initialize()}),void 0!==i?i:this},e.fn.transition.exists={},e.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(e,t,n,i){"use strict";var t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();e.api=e.fn.api=function(n){var i,o=e(e.isFunction(this)?t:this),a=o.selector||"",s=(new Date).getTime(),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var o,u,f,m,v,g=e.isPlainObject(n)?e.extend(!0,{},e.fn.api.settings,n):e.extend({},e.fn.api.settings),h=g.namespace,b=g.metadata,p=g.selector,y=g.error,x=g.className,C="."+h,w="module-"+h,S=e(this),T=S.closest(p.form),A=g.stateContext?e(g.stateContext):S,k=this,R=A[0],P=S.data(w);v={initialize:function(){c||v.bind.events(),v.instantiate()},instantiate:function(){v.verbose("Storing instance of module",v),P=v,S.data(w,P)},destroy:function(){v.verbose("Destroying previous module for",k),S.removeData(w).off(C)},bind:{events:function(){var e=v.get.event();e?(v.verbose("Attaching API events to element",e),S.on(e+C,v.event.trigger)):"now"==g.on&&(v.debug("Querying API endpoint immediately"),v.query())}},decode:{json:function(e){if(void 0!==e&&"string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}},read:{cachedResponse:function(e){var n;return void 0===t.Storage?void v.error(y.noStorage):(n=sessionStorage.getItem(e),v.debug("Using cached response",e,n),n=v.decode.json(n))}},write:{cachedResponse:function(n,i){return i&&""===i?void v.debug("Response empty, not caching",i):void 0===t.Storage?void v.error(y.noStorage):(e.isPlainObject(i)&&(i=JSON.stringify(i)),sessionStorage.setItem(n,i),void v.verbose("Storing cached response for url",n,i))}},query:function(){if(v.is.disabled())return void v.debug("Element is disabled API request aborted");if(v.is.loading()){if(!g.interruptRequests)return void v.debug("Cancelling request, previous request is still pending");v.debug("Interrupting previous request"),v.abort()}if(g.defaultData&&e.extend(!0,g.urlData,v.get.defaultData()),g.serializeForm&&(g.data=v.add.formData(g.data)),!1===(u=v.get.settings()))return v.cancelled=!0,void v.error(y.beforeSend);if(v.cancelled=!1,!(f=v.get.templatedURL())&&!v.is.mocked())return void v.error(y.missingURL);if((f=v.add.urlData(f))||v.is.mocked()){if(u.url=g.base+f,o=e.extend(!0,{},g,{type:g.method||g.type,data:void 0,url:g.base+f,beforeSend:g.beforeXHR,success:function(){},failure:function(){},complete:function(){}}),v.debug("Querying URL",o.url),v.verbose("Using AJAX settings",o),"local"===g.cache&&v.read.cachedResponse(f))return v.debug("Response returned from local cache"),v.request=v.create.request(),void v.request.resolveWith(R,[v.read.cachedResponse(f)]);g.throttle?g.throttleFirstRequest||v.timer?(v.debug("Throttling request",g.throttle),clearTimeout(v.timer),v.timer=setTimeout(function(){v.timer&&delete v.timer,v.debug("Sending throttled request",void 0,o.method),v.send.request()},g.throttle)):(v.debug("Sending request",void 0,o.method),v.send.request(),v.timer=setTimeout(function(){},g.throttle)):(v.debug("Sending request",void 0,o.method),v.send.request())}},should:{removeError:function(){return!0===g.hideError||"auto"===g.hideError&&!v.is.form()}},is:{disabled:function(){return S.filter(p.disabled).length>0},expectingJSON:function(){return"json"===g.dataType||"jsonp"===g.dataType},form:function(){return S.is("form")||A.is("form")},mocked:function(){return g.mockResponse||g.mockResponseAsync||g.response||g.responseAsync},input:function(){return S.is("input")},loading:function(){return!!v.request&&"pending"==v.request.state()},abortedRequest:function(e){return e&&void 0!==e.readyState&&0===e.readyState?(v.verbose("XHR request determined to be aborted"),!0):(v.verbose("XHR request was not aborted"),!1)},validResponse:function(t){return v.is.expectingJSON()&&e.isFunction(g.successTest)?(v.debug("Checking JSON returned success",g.successTest,t),g.successTest(t)?(v.debug("Response passed success test",t),!0):(v.debug("Response failed success test",t),!1)):(v.verbose("Response is not JSON, skipping validation",g.successTest,t),!0)}},was:{cancelled:function(){return v.cancelled||!1},succesful:function(){return v.request&&"resolved"==v.request.state()},failure:function(){return v.request&&"rejected"==v.request.state()},complete:function(){return v.request&&("resolved"==v.request.state()||"rejected"==v.request.state())}},add:{urlData:function(t,n){var i,o;return t&&(i=t.match(g.regExp.required),o=t.match(g.regExp.optional),n=n||g.urlData,i&&(v.debug("Looking for required URL variables",i),e.each(i,function(i,o){var a=-1!==o.indexOf("$")?o.substr(2,o.length-3):o.substr(1,o.length-2),s=e.isPlainObject(n)&&void 0!==n[a]?n[a]:void 0!==S.data(a)?S.data(a):void 0!==A.data(a)?A.data(a):n[a];if(void 0===s)return v.error(y.requiredParameter,a,t),t=!1,!1;v.verbose("Found required variable",a,s),s=g.encodeParameters?v.get.urlEncodedValue(s):s,t=t.replace(o,s)})),o&&(v.debug("Looking for optional URL variables",i),e.each(o,function(i,o){var a=-1!==o.indexOf("$")?o.substr(3,o.length-4):o.substr(2,o.length-3),s=e.isPlainObject(n)&&void 0!==n[a]?n[a]:void 0!==S.data(a)?S.data(a):void 0!==A.data(a)?A.data(a):n[a];void 0!==s?(v.verbose("Optional variable Found",a,s),t=t.replace(o,s)):(v.verbose("Optional variable not found",a),t=-1!==t.indexOf("/"+o)?t.replace("/"+o,""):t.replace(o,""))}))),t},formData:function(t){var n,i=void 0!==e.fn.serializeObject,o=i?T.serializeObject():T.serialize();return t=t||g.data,n=e.isPlainObject(t),n?i?(v.debug("Extending existing data with form data",t,o),t=e.extend(!0,{},t,o)):(v.error(y.missingSerialize),v.debug("Cant extend data. Replacing data with form data",t,o),t=o):(v.debug("Adding form data",o),t=o),t}},send:{request:function(){v.set.loading(),v.request=v.create.request(),v.is.mocked()?v.mockedXHR=v.create.mockedXHR():v.xhr=v.create.xhr(),g.onRequest.call(R,v.request,v.xhr)}},event:{trigger:function(e){v.query(),"submit"!=e.type&&"click"!=e.type||e.preventDefault()},xhr:{always:function(){},done:function(t,n,i){var o=this,a=(new Date).getTime()-m,s=g.loadingDuration-a,r=!!e.isFunction(g.onResponse)&&(v.is.expectingJSON()?g.onResponse.call(o,e.extend(!0,{},t)):g.onResponse.call(o,t));s=s>0?s:0,r&&(v.debug("Modified API response in onResponse callback",g.onResponse,r,t),t=r),s>0&&v.debug("Response completed early delaying state change by",s),setTimeout(function(){v.is.validResponse(t)?v.request.resolveWith(o,[t,i]):v.request.rejectWith(o,[i,"invalid"])},s)},fail:function(e,t,n){var i=this,o=(new Date).getTime()-m,a=g.loadingDuration-o;a=a>0?a:0,a>0&&v.debug("Response completed early delaying state change by",a),setTimeout(function(){v.is.abortedRequest(e)?v.request.rejectWith(i,[e,"aborted",n]):v.request.rejectWith(i,[e,"error",t,n])},a)}},request:{done:function(e,t){v.debug("Successful API Response",e),"local"===g.cache&&f&&(v.write.cachedResponse(f,e),v.debug("Saving server response locally",v.cache)),g.onSuccess.call(R,e,S,t)},complete:function(e,t){var n,i;v.was.succesful()?(i=e,n=t):(n=e,i=v.get.responseFromXHR(n)),v.remove.loading(),g.onComplete.call(R,i,S,n)},fail:function(e,t,n){var i=v.get.responseFromXHR(e),a=v.get.errorFromRequest(i,t,n);if("aborted"==t)return v.debug("XHR Aborted (Most likely caused by page navigation or CORS Policy)",t,n),g.onAbort.call(R,t,S,e),!0;"invalid"==t?v.debug("JSON did not pass success test. A server-side error has most likely occurred",i):"error"==t&&void 0!==e&&(v.debug("XHR produced a server error",t,n),200!=e.status&&void 0!==n&&""!==n&&v.error(y.statusMessage+n,o.url),g.onError.call(R,a,S,e)),g.errorDuration&&"aborted"!==t&&(v.debug("Adding error state"),v.set.error(),v.should.removeError()&&setTimeout(v.remove.error,g.errorDuration)),v.debug("API Request failed",a,e),g.onFailure.call(R,i,S,e)}}},create:{request:function(){return e.Deferred().always(v.event.request.complete).done(v.event.request.done).fail(v.event.request.fail)},mockedXHR:function(){var t,n,i,o=g.mockResponse||g.response,a=g.mockResponseAsync||g.responseAsync;return i=e.Deferred().always(v.event.xhr.complete).done(v.event.xhr.done).fail(v.event.xhr.fail),o?(e.isFunction(o)?(v.debug("Using specified synchronous callback",o),n=o.call(R,u)):(v.debug("Using settings specified response",o),n=o),i.resolveWith(R,[n,!1,{responseText:n}])):e.isFunction(a)&&(t=function(e){v.debug("Async callback returned response",e),e?i.resolveWith(R,[e,!1,{responseText:e}]):i.rejectWith(R,[{responseText:e},!1,!1])},v.debug("Using specified async response callback",a),a.call(R,u,t)),i},xhr:function(){var t;return t=e.ajax(o).always(v.event.xhr.always).done(v.event.xhr.done).fail(v.event.xhr.fail),v.verbose("Created server request",t,o),t}},set:{error:function(){v.verbose("Adding error state to element",A),A.addClass(x.error)},loading:function(){v.verbose("Adding loading state to element",A),A.addClass(x.loading),m=(new Date).getTime()}},remove:{error:function(){v.verbose("Removing error state from element",A),A.removeClass(x.error)},loading:function(){v.verbose("Removing loading state from element",A),A.removeClass(x.loading)}},get:{responseFromXHR:function(t){return!!e.isPlainObject(t)&&(v.is.expectingJSON()?v.decode.json(t.responseText):t.responseText)},errorFromRequest:function(t,n,i){return e.isPlainObject(t)&&void 0!==t.error?t.error:void 0!==g.error[n]?g.error[n]:i},request:function(){return v.request||!1},xhr:function(){return v.xhr||!1},settings:function(){var t;return t=g.beforeSend.call(R,g),t&&(void 0!==t.success&&(v.debug("Legacy success callback detected",t),v.error(y.legacyParameters,t.success),t.onSuccess=t.success),void 0!==t.failure&&(v.debug("Legacy failure callback detected",t),v.error(y.legacyParameters,t.failure),t.onFailure=t.failure),void 0!==t.complete&&(v.debug("Legacy complete callback detected",t),v.error(y.legacyParameters,t.complete),t.onComplete=t.complete)),void 0===t&&v.error(y.noReturnedValue),!1===t?t:void 0!==t?e.extend(!0,{},t):e.extend(!0,{},g)},urlEncodedValue:function(e){var n=t.decodeURIComponent(e),i=t.encodeURIComponent(e);return n!==e?(v.debug("URL value is already encoded, avoiding double encoding",e),e):(v.verbose("Encoding value using encodeURIComponent",e,i),i)},defaultData:function(){var t={};return e.isWindow(k)||(v.is.input()?t.value=S.val():v.is.form()||(t.text=S.text())),t},event:function(){return e.isWindow(k)||"now"==g.on?(v.debug("API called without element, no events attached"),!1):"auto"==g.on?S.is("input")?void 0!==k.oninput?"input":void 0!==k.onpropertychange?"propertychange":"keyup":S.is("form")?"submit":"click":g.on},templatedURL:function(e){if(e=e||S.data(b.action)||g.action||!1,f=S.data(b.url)||g.url||!1)return v.debug("Using specified url",f),f;if(e){if(v.debug("Looking up url for action",e,g.api),void 0===g.api[e]&&!v.is.mocked())return void v.error(y.missingAction,g.action,g.api);f=g.api[e]}else v.is.form()&&(f=S.attr("action")||A.attr("action")||!1,v.debug("No url or action specified, defaulting to form action",f));return f}},abort:function(){var e=v.get.xhr();e&&"resolved"!==e.state()&&(v.debug("Cancelling API request"),e.abort())},reset:function(){v.remove.error(),v.remove.loading()},setting:function(t,n){if(v.debug("Changing setting",t,n),e.isPlainObject(t))e.extend(!0,g,t);else{if(void 0===n)return g[t];e.isPlainObject(g[t])?e.extend(!0,g[t],n):g[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,v,t);else{if(void 0===n)return v[t];v[t]=n}},debug:function(){!g.silent&&g.debug&&(g.performance?v.performance.log(arguments):(v.debug=Function.prototype.bind.call(console.info,console,g.name+":"),v.debug.apply(console,arguments)))},verbose:function(){!g.silent&&g.verbose&&g.debug&&(g.performance?v.performance.log(arguments):(v.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),v.verbose.apply(console,arguments)))},error:function(){g.silent||(v.error=Function.prototype.bind.call(console.error,console,g.name+":"),v.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;g.performance&&(t=(new Date).getTime(),i=s||t,n=t-i,s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"","Execution Time":n})),clearTimeout(v.performance.timer),v.performance.timer=setTimeout(v.performance.display,500)},display:function(){var t=g.name+":",n=0;s=!1,clearTimeout(v.performance.timer),e.each(r,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,n,o){var a,s,r,l=P;return n=n||d,o=k||o,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(s=l[i],!1):(v.error(y.method,t),!1);l=l[i]}})),e.isFunction(s)?r=s.apply(o,n):void 0!==s&&(r=s),e.isArray(i)?i.push(r):void 0!==i?i=[i,r]:void 0!==r&&(i=r),s}},c?(void 0===P&&v.initialize(),v.invoke(l)):(void 0!==P&&P.invoke("destroy"),v.initialize())}),void 0!==i?i:this},e.api.settings={name:"API",namespace:"api",debug:!1,verbose:!1,performance:!0,api:{},cache:!0,interruptRequests:!0,on:"auto",stateContext:!1,loadingDuration:0,hideError:"auto",errorDuration:2e3,encodeParameters:!0,action:!1,url:!1,base:"",urlData:{},defaultData:!0,serializeForm:!1,throttle:0,throttleFirstRequest:!0,method:"get",data:{},dataType:"json",mockResponse:!1,mockResponseAsync:!1,response:!1,responseAsync:!1,beforeSend:function(e){return e},beforeXHR:function(e){},onRequest:function(e,t){},onResponse:!1,onSuccess:function(e,t){},onComplete:function(e,t){},onFailure:function(e,t){},onError:function(e,t){},onAbort:function(e,t){},successTest:!1,error:{beforeSend:"The before send function has aborted the request",error:"There was an error with your request",exitConditions:"API Request Aborted. Exit conditions met",JSONParse:"JSON could not be parsed during error handling",legacyParameters:"You are using legacy API success callback names",method:"The method you called is not defined",missingAction:"API action used but no url was defined",missingSerialize:"jquery-serialize-object is required to add form data to an existing data object",missingURL:"No URL specified for api event",noReturnedValue:"The beforeSend callback must return a settings object, beforeSend ignored.",noStorage:"Caching responses locally requires session storage",parseError:"There was an error parsing your request",requiredParameter:"Missing a required URL parameter: ",statusMessage:"Server gave an error: ",timeout:"Your request timed out"},regExp:{required:/\{\$*[A-z0-9]+\}/g,optional:/\{\/\$*[A-z0-9]+\}/g},className:{loading:"loading",error:"error"},selector:{disabled:".disabled",form:"form"},metadata:{action:"action",url:"url"}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.state=function(t){var i,o=e(this),a=o.selector||"",s=(n.documentElement,(new Date).getTime()),r=[],l=arguments[0],c="string"==typeof l,d=[].slice.call(arguments,1);return o.each(function(){var n,u=e.isPlainObject(t)?e.extend(!0,{},e.fn.state.settings,t):e.extend({},e.fn.state.settings),f=u.error,m=u.metadata,v=u.className,g=u.namespace,h=u.states,b=u.text,p="."+g,y=g+"-module",x=e(this),C=this,w=x.data(y);n={initialize:function(){
n.verbose("Initializing module"),u.automatic&&n.add.defaults(),u.context&&""!==a?e(u.context).on(a,"mouseenter"+p,n.change.text).on(a,"mouseleave"+p,n.reset.text).on(a,"click"+p,n.toggle.state):x.on("mouseenter"+p,n.change.text).on("mouseleave"+p,n.reset.text).on("click"+p,n.toggle.state),n.instantiate()},instantiate:function(){n.verbose("Storing instance of module",n),w=n,x.data(y,n)},destroy:function(){n.verbose("Destroying previous module",w),x.off(p).removeData(y)},refresh:function(){n.verbose("Refreshing selector cache"),x=e(C)},add:{defaults:function(){var i=t&&e.isPlainObject(t.states)?t.states:{};e.each(u.defaults,function(t,o){void 0!==n.is[t]&&n.is[t]()&&(n.verbose("Adding default states",t,C),e.extend(u.states,o,i))})}},is:{active:function(){return x.hasClass(v.active)},loading:function(){return x.hasClass(v.loading)},inactive:function(){return!x.hasClass(v.active)},state:function(e){return void 0!==v[e]&&x.hasClass(v[e])},enabled:function(){return!x.is(u.filter.active)},disabled:function(){return x.is(u.filter.active)},textEnabled:function(){return!x.is(u.filter.text)},button:function(){return x.is(".button:not(a, .submit)")},input:function(){return x.is("input")},progress:function(){return x.is(".ui.progress")}},allow:function(e){n.debug("Now allowing state",e),h[e]=!0},disallow:function(e){n.debug("No longer allowing",e),h[e]=!1},allows:function(e){return h[e]||!1},enable:function(){x.removeClass(v.disabled)},disable:function(){x.addClass(v.disabled)},setState:function(e){n.allows(e)&&x.addClass(v[e])},removeState:function(e){n.allows(e)&&x.removeClass(v[e])},toggle:{state:function(){var t;if(n.allows("active")&&n.is.enabled()){if(n.refresh(),void 0!==e.fn.api)if(t=x.api("get request"),x.api("was cancelled"))n.debug("API Request cancelled by beforesend"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1};else if(t)return void n.listenTo(t);n.change.state()}}},listenTo:function(t){n.debug("API request detected, waiting for state signal",t),t&&(b.loading&&n.update.text(b.loading),e.when(t).then(function(){"resolved"==t.state()?(n.debug("API request succeeded"),u.activateTest=function(){return!0},u.deactivateTest=function(){return!0}):(n.debug("API request failed"),u.activateTest=function(){return!1},u.deactivateTest=function(){return!1}),n.change.state()}))},change:{state:function(){n.debug("Determining state change direction"),n.is.inactive()?n.activate():n.deactivate(),u.sync&&n.sync(),u.onChange.call(C)},text:function(){n.is.textEnabled()&&(n.is.disabled()?(n.verbose("Changing text to disabled text",b.hover),n.update.text(b.disabled)):n.is.active()?b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.deactivate&&(n.verbose("Changing text to deactivating text",b.deactivate),n.update.text(b.deactivate)):b.hover?(n.verbose("Changing text to hover text",b.hover),n.update.text(b.hover)):b.activate&&(n.verbose("Changing text to activating text",b.activate),n.update.text(b.activate)))}},activate:function(){u.activateTest.call(C)&&(n.debug("Setting state to active"),x.addClass(v.active),n.update.text(b.active),u.onActivate.call(C))},deactivate:function(){u.deactivateTest.call(C)&&(n.debug("Setting state to inactive"),x.removeClass(v.active),n.update.text(b.inactive),u.onDeactivate.call(C))},sync:function(){n.verbose("Syncing other buttons to current state"),n.is.active()?o.not(x).state("activate"):o.not(x).state("deactivate")},get:{text:function(){return u.selector.text?x.find(u.selector.text).text():x.html()},textFor:function(e){return b[e]||!1}},flash:{text:function(e,t,i){var o=n.get.text();n.debug("Flashing text message",e,t),e=e||u.text.flash,t=t||u.flashDuration,i=i||function(){},n.update.text(e),setTimeout(function(){n.update.text(o),i.call(C)},t)}},reset:{text:function(){var e=b.active||x.data(m.storedText),t=b.inactive||x.data(m.storedText);n.is.textEnabled()&&(n.is.active()&&e?(n.verbose("Resetting active text",e),n.update.text(e)):t&&(n.verbose("Resetting inactive text",e),n.update.text(t)))}},update:{text:function(e){var t=n.get.text();e&&e!==t?(n.debug("Updating text",e),u.selector.text?x.data(m.storedText,e).find(u.selector.text).text(e):x.data(m.storedText,e).html(e)):n.debug("Text is already set, ignoring update",e)}},setting:function(t,i){if(n.debug("Changing setting",t,i),e.isPlainObject(t))e.extend(!0,u,t);else{if(void 0===i)return u[t];e.isPlainObject(u[t])?e.extend(!0,u[t],i):u[t]=i}},internal:function(t,i){if(e.isPlainObject(t))e.extend(!0,n,t);else{if(void 0===i)return n[t];n[t]=i}},debug:function(){!u.silent&&u.debug&&(u.performance?n.performance.log(arguments):(n.debug=Function.prototype.bind.call(console.info,console,u.name+":"),n.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?n.performance.log(arguments):(n.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),n.verbose.apply(console,arguments)))},error:function(){u.silent||(n.error=Function.prototype.bind.call(console.error,console,u.name+":"),n.error.apply(console,arguments))},performance:{log:function(e){var t,i,o;u.performance&&(t=(new Date).getTime(),o=s||t,i=t-o,s=t,r.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:C,"Execution Time":i})),clearTimeout(n.performance.timer),n.performance.timer=setTimeout(n.performance.display,500)},display:function(){var t=u.name+":",i=0;s=!1,clearTimeout(n.performance.timer),e.each(r,function(e,t){i+=t["Execution Time"]}),t+=" "+i+"ms",a&&(t+=" '"+a+"'"),(void 0!==console.group||void 0!==console.table)&&r.length>0&&(console.groupCollapsed(t),console.table?console.table(r):e.each(r,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),r=[]}},invoke:function(t,o,a){var s,r,l,c=w;return o=o||d,a=C||a,"string"==typeof t&&void 0!==c&&(t=t.split(/[\. ]/),s=t.length-1,e.each(t,function(i,o){var a=i!=s?o+t[i+1].charAt(0).toUpperCase()+t[i+1].slice(1):t;if(e.isPlainObject(c[a])&&i!=s)c=c[a];else{if(void 0!==c[a])return r=c[a],!1;if(!e.isPlainObject(c[o])||i==s)return void 0!==c[o]?(r=c[o],!1):(n.error(f.method,t),!1);c=c[o]}})),e.isFunction(r)?l=r.apply(a,o):void 0!==r&&(l=r),e.isArray(i)?i.push(l):void 0!==i?i=[i,l]:void 0!==l&&(i=l),r}},c?(void 0===w&&n.initialize(),n.invoke(l)):(void 0!==w&&w.invoke("destroy"),n.initialize())}),void 0!==i?i:this},e.fn.state.settings={name:"State",debug:!1,verbose:!1,namespace:"state",performance:!0,onActivate:function(){},onDeactivate:function(){},onChange:function(){},activateTest:function(){return!0},deactivateTest:function(){return!0},automatic:!0,sync:!1,flashDuration:1e3,filter:{text:".loading, .disabled",active:".disabled"},context:!1,error:{beforeSend:"The before send function has cancelled state change",method:"The method you called is not defined."},metadata:{promise:"promise",storedText:"stored-text"},className:{active:"active",disabled:"disabled",error:"error",loading:"loading",success:"success",warning:"warning"},selector:{text:!1},defaults:{input:{disabled:!0,loading:!0,active:!0},button:{disabled:!0,loading:!0,active:!0},progress:{active:!0,success:!0,warning:!0,error:!0}},states:{active:!0,disabled:!0,error:!0,loading:!0,success:!0,warning:!0},text:{disabled:!1,flash:!1,hover:!1,active:!1,inactive:!1,activate:!1,deactivate:!1}}}(jQuery,window,document),function(e,t,n,i){"use strict";t=void 0!==t&&t.Math==Math?t:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),e.fn.visibility=function(i){var o,a=e(this),s=a.selector||"",r=(new Date).getTime(),l=[],c=arguments[0],d="string"==typeof c,u=[].slice.call(arguments,1),f=a.length,m=0;return a.each(function(){var a,v,g,h,b=e.isPlainObject(i)?e.extend(!0,{},e.fn.visibility.settings,i):e.extend({},e.fn.visibility.settings),p=b.className,y=b.namespace,x=b.error,C=b.metadata,w="."+y,S="module-"+y,T=e(t),A=e(this),k=e(b.context),R=(A.selector,A.data(S)),P=t.requestAnimationFrame||t.mozRequestAnimationFrame||t.webkitRequestAnimationFrame||t.msRequestAnimationFrame||function(e){setTimeout(e,0)},O=this,q=!1;h={initialize:function(){h.debug("Initializing",b),h.setup.cache(),h.should.trackChanges()&&("image"==b.type&&h.setup.image(),"fixed"==b.type&&h.setup.fixed(),b.observeChanges&&h.observeChanges(),h.bind.events()),h.save.position(),h.is.visible()||h.error(x.visible,A),b.initialCheck&&h.checkVisibility(),h.instantiate()},instantiate:function(){h.debug("Storing instance",h),A.data(S,h),R=h},destroy:function(){h.verbose("Destroying previous module"),g&&g.disconnect(),v&&v.disconnect(),T.off("load"+w,h.event.load).off("resize"+w,h.event.resize),k.off("scroll"+w,h.event.scroll).off("scrollchange"+w,h.event.scrollchange),"fixed"==b.type&&(h.resetFixed(),h.remove.placeholder()),A.off(w).removeData(S)},observeChanges:function(){"MutationObserver"in t&&(v=new MutationObserver(h.event.contextChanged),g=new MutationObserver(h.event.changed),v.observe(n,{childList:!0,subtree:!0}),g.observe(O,{childList:!0,subtree:!0}),h.debug("Setting up mutation observer",g))},bind:{events:function(){h.verbose("Binding visibility events to scroll and resize"),b.refreshOnLoad&&T.on("load"+w,h.event.load),T.on("resize"+w,h.event.resize),k.off("scroll"+w).on("scroll"+w,h.event.scroll).on("scrollchange"+w,h.event.scrollchange)}},event:{changed:function(e){h.verbose("DOM tree modified, updating visibility calculations"),h.timer=setTimeout(function(){h.verbose("DOM tree modified, updating sticky menu"),h.refresh()},100)},contextChanged:function(t){[].forEach.call(t,function(t){t.removedNodes&&[].forEach.call(t.removedNodes,function(t){(t==O||e(t).find(O).length>0)&&(h.debug("Element removed from DOM, tearing down events"),h.destroy())})})},resize:function(){h.debug("Window resized"),b.refreshOnResize&&P(h.refresh)},load:function(){h.debug("Page finished loading"),P(h.refresh)},scroll:function(){b.throttle?(clearTimeout(h.timer),h.timer=setTimeout(function(){k.triggerHandler("scrollchange"+w,[k.scrollTop()])},b.throttle)):P(function(){k.triggerHandler("scrollchange"+w,[k.scrollTop()])})},scrollchange:function(e,t){h.checkVisibility(t)}},precache:function(t,i){t instanceof Array||(t=[t]);for(var o=t.length,a=0,s=[],r=n.createElement("img"),l=function(){++a>=t.length&&e.isFunction(i)&&i()};o--;)r=n.createElement("img"),r.onload=l,r.onerror=l,r.src=t[o],s.push(r)},enableCallbacks:function(){h.debug("Allowing callbacks to occur"),q=!1},disableCallbacks:function(){h.debug("Disabling all callbacks temporarily"),q=!0},should:{trackChanges:function(){return d?(h.debug("One time query, no need to bind events"),!1):(h.debug("Callbacks being attached"),!0)}},setup:{cache:function(){h.cache={occurred:{},screen:{},element:{}}},image:function(){var e=A.data(C.src);e&&(h.verbose("Lazy loading image",e),b.once=!0,b.observeChanges=!1,b.onOnScreen=function(){h.debug("Image on screen",O),h.precache(e,function(){h.set.image(e,function(){m++,m==f&&b.onAllLoaded.call(this),b.onLoad.call(this)})})})},fixed:function(){h.debug("Setting up fixed"),b.once=!1,b.observeChanges=!1,b.initialCheck=!0,b.refreshOnLoad=!0,i.transition||(b.transition=!1),h.create.placeholder(),h.debug("Added placeholder",a),b.onTopPassed=function(){h.debug("Element passed, adding fixed position",A),h.show.placeholder(),h.set.fixed(),b.transition&&void 0!==e.fn.transition&&A.transition(b.transition,b.duration)},b.onTopPassedReverse=function(){h.debug("Element returned to position, removing fixed",A),h.hide.placeholder(),h.remove.fixed()}}},create:{placeholder:function(){h.verbose("Creating fixed position placeholder"),a=A.clone(!1).css("display","none").addClass(p.placeholder).insertAfter(A)}},show:{placeholder:function(){h.verbose("Showing placeholder"),a.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){h.verbose("Hiding placeholder"),a.css("display","none").css("visibility","")}},set:{fixed:function(){h.verbose("Setting element to fixed position"),A.addClass(p.fixed).css({position:"fixed",top:b.offset+"px",left:"auto",zIndex:b.zIndex}),b.onFixed.call(O)},image:function(t,n){if(A.attr("src",t),b.transition)if(void 0!==e.fn.transition){if(A.hasClass(p.visible))return void h.debug("Transition already occurred on this image, skipping animation");A.transition(b.transition,b.duration,n)}else A.fadeIn(b.duration,n);else A.show()}},is:{onScreen:function(){return h.get.elementCalculations().onScreen},offScreen:function(){return h.get.elementCalculations().offScreen},visible:function(){return!(!h.cache||!h.cache.element)&&!(0===h.cache.element.width&&0===h.cache.element.offset.top)},verticallyScrollableContext:function(){var e=k.get(0)!==t&&k.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=k.get(0)!==t&&k.css("overflow-x");return"auto"==e||"scroll"==e}},refresh:function(){h.debug("Refreshing constants (width/height)"),"fixed"==b.type&&h.resetFixed(),h.reset(),h.save.position(),b.checkOnRefresh&&h.checkVisibility(),b.onRefresh.call(O)},resetFixed:function(){h.remove.fixed(),h.remove.occurred()},reset:function(){h.verbose("Resetting all cached values"),e.isPlainObject(h.cache)&&(h.cache.screen={},h.cache.element={})},checkVisibility:function(e){h.verbose("Checking visibility of element",h.cache.element),!q&&h.is.visible()&&(h.save.scroll(e),h.save.calculations(),h.passed(),h.passingReverse(),h.topVisibleReverse(),h.bottomVisibleReverse(),h.topPassedReverse(),h.bottomPassedReverse(),h.onScreen(),h.offScreen(),h.passing(),h.topVisible(),h.bottomVisible(),h.topPassed(),h.bottomPassed(),b.onUpdate&&b.onUpdate.call(O,h.get.elementCalculations()))},passed:function(t,n){var i=h.get.elementCalculations();if(t&&n)b.onPassed[t]=n;else{if(void 0!==t)return h.get.pixelsPassed(t)>i.pixelsPassed;i.passing&&e.each(b.onPassed,function(e,t){i.bottomVisible||i.pixelsPassed>h.get.pixelsPassed(e)?h.execute(t,e):b.once||h.remove.occurred(t)})}},onScreen:function(e){var t=h.get.elementCalculations(),n=e||b.onOnScreen;if(e&&(h.debug("Adding callback for onScreen",e),b.onOnScreen=e),t.onScreen?h.execute(n,"onScreen"):b.once||h.remove.occurred("onScreen"),void 0!==e)return t.onOnScreen},offScreen:function(e){var t=h.get.elementCalculations(),n=e||b.onOffScreen;if(e&&(h.debug("Adding callback for offScreen",e),b.onOffScreen=e),t.offScreen?h.execute(n,"offScreen"):b.once||h.remove.occurred("offScreen"),void 0!==e)return t.onOffScreen},passing:function(e){var t=h.get.elementCalculations(),n=e||b.onPassing;if(e&&(h.debug("Adding callback for passing",e),b.onPassing=e),t.passing?h.execute(n,"passing"):b.once||h.remove.occurred("passing"),void 0!==e)return t.passing},topVisible:function(e){var t=h.get.elementCalculations(),n=e||b.onTopVisible;if(e&&(h.debug("Adding callback for top visible",e),b.onTopVisible=e),t.topVisible?h.execute(n,"topVisible"):b.once||h.remove.occurred("topVisible"),void 0===e)return t.topVisible},bottomVisible:function(e){var t=h.get.elementCalculations(),n=e||b.onBottomVisible;if(e&&(h.debug("Adding callback for bottom visible",e),b.onBottomVisible=e),t.bottomVisible?h.execute(n,"bottomVisible"):b.once||h.remove.occurred("bottomVisible"),void 0===e)return t.bottomVisible},topPassed:function(e){var t=h.get.elementCalculations(),n=e||b.onTopPassed;if(e&&(h.debug("Adding callback for top passed",e),b.onTopPassed=e),t.topPassed?h.execute(n,"topPassed"):b.once||h.remove.occurred("topPassed"),void 0===e)return t.topPassed},bottomPassed:function(e){var t=h.get.elementCalculations(),n=e||b.onBottomPassed;if(e&&(h.debug("Adding callback for bottom passed",e),b.onBottomPassed=e),t.bottomPassed?h.execute(n,"bottomPassed"):b.once||h.remove.occurred("bottomPassed"),void 0===e)return t.bottomPassed},passingReverse:function(e){var t=h.get.elementCalculations(),n=e||b.onPassingReverse;if(e&&(h.debug("Adding callback for passing reverse",e),b.onPassingReverse=e),t.passing?b.once||h.remove.occurred("passingReverse"):h.get.occurred("passing")&&h.execute(n,"passingReverse"),void 0!==e)return!t.passing},topVisibleReverse:function(e){var t=h.get.elementCalculations(),n=e||b.onTopVisibleReverse;if(e&&(h.debug("Adding callback for top visible reverse",e),b.onTopVisibleReverse=e),t.topVisible?b.once||h.remove.occurred("topVisibleReverse"):h.get.occurred("topVisible")&&h.execute(n,"topVisibleReverse"),void 0===e)return!t.topVisible},bottomVisibleReverse:function(e){var t=h.get.elementCalculations(),n=e||b.onBottomVisibleReverse;if(e&&(h.debug("Adding callback for bottom visible reverse",e),b.onBottomVisibleReverse=e),t.bottomVisible?b.once||h.remove.occurred("bottomVisibleReverse"):h.get.occurred("bottomVisible")&&h.execute(n,"bottomVisibleReverse"),void 0===e)return!t.bottomVisible},topPassedReverse:function(e){var t=h.get.elementCalculations(),n=e||b.onTopPassedReverse;if(e&&(h.debug("Adding callback for top passed reverse",e),b.onTopPassedReverse=e),t.topPassed?b.once||h.remove.occurred("topPassedReverse"):h.get.occurred("topPassed")&&h.execute(n,"topPassedReverse"),void 0===e)return!t.onTopPassed},bottomPassedReverse:function(e){var t=h.get.elementCalculations(),n=e||b.onBottomPassedReverse;if(e&&(h.debug("Adding callback for bottom passed reverse",e),b.onBottomPassedReverse=e),t.bottomPassed?b.once||h.remove.occurred("bottomPassedReverse"):h.get.occurred("bottomPassed")&&h.execute(n,"bottomPassedReverse"),void 0===e)return!t.bottomPassed},execute:function(e,t){var n=h.get.elementCalculations(),i=h.get.screenCalculations();e=e||!1,e&&(b.continuous?(h.debug("Callback being called continuously",t,n),e.call(O,n,i)):h.get.occurred(t)||(h.debug("Conditions met",t,n),e.call(O,n,i))),h.save.occurred(t)},remove:{fixed:function(){h.debug("Removing fixed position"),A.removeClass(p.fixed).css({position:"",top:"",left:"",zIndex:""}),b.onUnfixed.call(O)},placeholder:function(){h.debug("Removing placeholder content"),a&&a.remove()},occurred:function(e){if(e){var t=h.cache.occurred;void 0!==t[e]&&!0===t[e]&&(h.debug("Callback can now be called again",e),h.cache.occurred[e]=!1)}else h.cache.occurred={}}},save:{calculations:function(){h.verbose("Saving all calculations necessary to determine positioning"),h.save.direction(),h.save.screenCalculations(),h.save.elementCalculations()},occurred:function(e){e&&(void 0!==h.cache.occurred[e]&&!0===h.cache.occurred[e]||(h.verbose("Saving callback occurred",e),h.cache.occurred[e]=!0))},scroll:function(e){e=e+b.offset||k.scrollTop()+b.offset,h.cache.scroll=e},direction:function(){var e,t=h.get.scroll(),n=h.get.lastScroll();return e=t>n&&n?"down":t<n&&n?"up":"static",h.cache.direction=e,h.cache.direction},elementPosition:function(){var e=h.cache.element,t=h.get.screenSize();return h.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=A.offset(),e.width=A.outerWidth(),e.height=A.outerHeight(),h.is.verticallyScrollableContext()&&(e.offset.top+=k.scrollTop()-k.offset().top),h.is.horizontallyScrollableContext()&&(e.offset.left+=k.scrollLeft-k.offset().left),h.cache.element=e,e},elementCalculations:function(){var e=h.get.screenCalculations(),t=h.get.elementPosition();return b.includeMargin?(t.margin={},t.margin.top=parseInt(A.css("margin-top"),10),t.margin.bottom=parseInt(A.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topPassed=e.top>=t.top,t.bottomPassed=e.top>=t.bottom,t.topVisible=e.bottom>=t.top&&!t.bottomPassed,t.bottomVisible=e.bottom>=t.bottom&&!t.topPassed,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=t.topVisible&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),h.cache.element=t,h.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=h.get.scroll();return h.save.direction(),h.cache.screen.top=e,h.cache.screen.bottom=e+h.cache.screen.height,h.cache.screen},screenSize:function(){h.verbose("Saving window position"),h.cache.screen={height:k.height()}},position:function(){h.save.screenSize(),h.save.elementPosition()}},get:{pixelsPassed:function(e){var t=h.get.elementCalculations();return e.search("%")>-1?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return void 0!==h.cache.occurred&&(h.cache.occurred[e]||!1)},direction:function(){return void 0===h.cache.direction&&h.save.direction(),h.cache.direction},elementPosition:function(){return void 0===h.cache.element&&h.save.elementPosition(),h.cache.element},elementCalculations:function(){return void 0===h.cache.element&&h.save.elementCalculations(),h.cache.element},screenCalculations:function(){return void 0===h.cache.screen&&h.save.screenCalculations(),h.cache.screen},screenSize:function(){return void 0===h.cache.screen&&h.save.screenSize(),h.cache.screen},scroll:function(){return void 0===h.cache.scroll&&h.save.scroll(),h.cache.scroll},lastScroll:function(){return void 0===h.cache.screen?(h.debug("First scroll event, no last scroll could be found"),!1):h.cache.screen.top}},setting:function(t,n){if(e.isPlainObject(t))e.extend(!0,b,t);else{if(void 0===n)return b[t];b[t]=n}},internal:function(t,n){if(e.isPlainObject(t))e.extend(!0,h,t);else{if(void 0===n)return h[t];h[t]=n}},debug:function(){!b.silent&&b.debug&&(b.performance?h.performance.log(arguments):(h.debug=Function.prototype.bind.call(console.info,console,b.name+":"),h.debug.apply(console,arguments)))},verbose:function(){!b.silent&&b.verbose&&b.debug&&(b.performance?h.performance.log(arguments):(h.verbose=Function.prototype.bind.call(console.info,console,b.name+":"),h.verbose.apply(console,arguments)))},error:function(){b.silent||(h.error=Function.prototype.bind.call(console.error,console,b.name+":"),h.error.apply(console,arguments))},performance:{log:function(e){var t,n,i;b.performance&&(t=(new Date).getTime(),i=r||t,n=t-i,r=t,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:O,"Execution Time":n})),clearTimeout(h.performance.timer),h.performance.timer=setTimeout(h.performance.display,500)},display:function(){var t=b.name+":",n=0;r=!1,clearTimeout(h.performance.timer),e.each(l,function(e,t){n+=t["Execution Time"]}),t+=" "+n+"ms",s&&(t+=" '"+s+"'"),(void 0!==console.group||void 0!==console.table)&&l.length>0&&(console.groupCollapsed(t),console.table?console.table(l):e.each(l,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(t,n,i){var a,s,r,l=R;return n=n||u,i=O||i,"string"==typeof t&&void 0!==l&&(t=t.split(/[\. ]/),a=t.length-1,e.each(t,function(n,i){var o=n!=a?i+t[n+1].charAt(0).toUpperCase()+t[n+1].slice(1):t;if(e.isPlainObject(l[o])&&n!=a)l=l[o];else{if(void 0!==l[o])return s=l[o],!1;if(!e.isPlainObject(l[i])||n==a)return void 0!==l[i]?(s=l[i],!1):(h.error(x.method,t),!1);l=l[i]}})),e.isFunction(s)?r=s.apply(i,n):void 0!==s&&(r=s),e.isArray(o)?o.push(r):void 0!==o?o=[o,r]:void 0!==r&&(o=r),s}},d?(void 0===R&&h.initialize(),R.save.scroll(),R.save.calculations(),h.invoke(c)):(void 0!==R&&R.invoke("destroy"),h.initialize())}),void 0!==o?o:this},e.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:t,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"placeholder",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);